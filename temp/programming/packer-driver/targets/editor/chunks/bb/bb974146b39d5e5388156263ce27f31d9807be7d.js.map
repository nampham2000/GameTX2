{"version":3,"sources":["file:///C:/Users/Admin/Desktop/Gametx2/assets/Scripts/GameController.ts"],"names":["_decorator","Button","Component","Label","math","Node","tween","Vec3","Animation","SpriteFrame","Sprite","EditBox","instantiate","Prefab","Graphics","Color","AudioController","ccclass","property","GameC","type","totalUserBetUnder","totalUserBetOver","totalBetOver","totalBetUnder","listScore","listValueDice","listSprite","listButton","checkUnder","checkOver","gameEnd","checkEditFocus","shedu","nextRoll","timeRate","valueDice","balanceUser","cloneBalanUser","userValuebetUnder","cloneuserValuebetUnder","cloneuserValuebetOver","userValuebetOver","countdownTimerBet","countdownTimerResult","columnWidth","sum","countPlayerOver","countPlayerUnder","clonetotalUserBetUnder","clonetotalUserBetOver","checkouChat","results","columnValues","resultsHistory","ListDice1His","ListDice2His","ListDice3His","ramdomDice","loggedInUsername","offMusic","numPrefabsCreated","lineGraphicsArray","numRows","numCols","cellSize","grid","start","window","userInfo","getUsernameAndBalanceFromLocalStorage","username","string","balance","onAudio","value1k","value10k","value50k","value100k","value500k","value10M","value50M","i","length","button","node","on","EventType","CLICK","addScore","console","log","schedule","totalOverText","formatNumberWithCommas","countPlayerOverLb","toString","to","scale","call","totalUnderText","countPlayerUnderLb","setTimeout","plate","getComponent","play","Effect1","countDown","active","Effect3","displayImagesResult","displayImagesResultHistory","startCountdown","scheduleRandomDice","createNodeHistory","createNodeDice1History","createNodeDice2History","createNodeDice3History","createGrid","col","Math","floor","row","prefabType","Under","Over","cell","parent","pref","setPosition","push","update","deltaTime","BalanceNumber","randomRangeInt","countDownResult","activeBetOverbtn","betOverNode","betBarNode","betUnderNode","activeBetUnderbtn","Score","UnderLableValueUser","OverLableValueUser","bet","isUpdated","setUsernameAndBalanceToLocalStorage","randomValues","getRandomValues","displayImages","ToatalDice","dickAnimationFinished","displayImagesHisDice","sumValues","Effect2","startCountdownResult","tkpOver","formatNumberWithCommas2","tkpUserOver","tkpUserUnder","tkpTime","currentTime","FINISHED","off","updateResults","updateResultsHistory","updateResultsHis","updateResultsDice1History","updateResultsDice2History","updateResultsDice3History","EffectUnder","Effect","indices","randomIndex","random","array","reduce","currentValue","forEach","value","index","spriteFrame","dice1","sprite","imageNodes","error","diceHis","imageNodesDiceRes","imageNodesResult","undefined","listSpriteResult","imageNodesResultHistory","listSpriteResultHistory","timeCountDown","timereset","countdownInterval","setInterval","clearInterval","newResult","shift","clearLineNode","LineNode","LineNodeDice1","LineNodeDice2","LineNodeDice3","chatAppear","Table","position","x","y","Chat","logo1","logo2","unchat","chatUnAppear","handleEvent","LableChat","editBoxChat","introduceBoardActive","introduceBoard","introduceBoardUnActive","historyNodeActive","HistoryNode","historyNodeUnActive","gapBetweenColumns","lineContainer","graphics","addComponent","lineWidth","strokeColor","prevColumnNode","NumberNodesResultHistory","listSpritetNumberHistory","moveTo","lineTo","stroke","ListDice1Node","ListDice2Node","ListDice3Node","createColumn","columnValue","columnNode","black","removeAllChildren","warn","unDice1","unDice1His","Dice1Hist","ActiveDice1","unDice2","unDice2His","Dice2Hist","ActiveDice2","unDice3","unDice3His","Dice3ist","ActiveDice3","activePage","page1His","page2His","page2Button1","page2Button2","Dice1His","Dice2His","Dice3His","activePage2","CancelBet","HistoryUserBetActiveH","HistoryUserBet","HistoryUserBetUnable","HistoryUserActiveH","HistoryUser","HistoryUserUnable","doubleBet","winRate","Winrate","winRateUn","storedAccounts","localStorage","getItem","registeredAccounts","JSON","parse","account","find","acc","newBalance","findIndex","setItem","stringify","number","replace","toFixed","Date","hour","getHours","minute","getMinutes","second","getSeconds","buttonMusicb","buttonMusic","settingAudio"],"mappings":"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","sourcesContent":["import {\r\n  _decorator,\r\n  Button,\r\n  Component,\r\n  Label,\r\n  math,\r\n  Node,\r\n  tween,\r\n  Vec3,\r\n  Animation,\r\n  SpriteFrame,\r\n  Sprite,\r\n  input,\r\n  Input,\r\n  macro,\r\n  EditBox,\r\n  NodeEventType,\r\n  EventKeyboard,\r\n  KeyCode,\r\n  instantiate,\r\n  Prefab,\r\n  Graphics,\r\n  Color,\r\n  SystemEvent,\r\n  Event,\r\n  log,\r\n  director,\r\n} from \"cc\";\r\nimport { AudioController } from \"./Audio/AudioController\";\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\ninterface SceneParams {\r\n  username: string;\r\n}\r\n\r\ninterface AccountInfo {\r\n  username: string;\r\n  password: string;\r\n  balance: number; // Thêm trường balance\r\n}\r\n\r\n@ccclass(\"GameC\")\r\nexport class GameC extends Component {\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private betOverNode: Node;\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private betUnderNode: Node;\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private betBarNode: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private plate: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private Effect: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private EffectUnder: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private Chat: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private Table: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private unchat: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private introduceBoard: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private HistoryNode: Node;\r\n\r\n  @property({\r\n    type: Prefab,\r\n  })\r\n  private black: Prefab;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private numberHis: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private LineNode: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private LineNodeDice1: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private Winrate: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private LineNodeDice2: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private LineNodeDice3: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private Dice1Hist: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private Dice2Hist: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private Dice3ist: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private page1His: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private page2His: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private Dice1His: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private Dice2His: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private Dice3His: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private HistoryUserBet: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private HistoryUser: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private logo1: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private logo2: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private buttonMusic: Node;\r\n\r\n  //Lable\r\n  @property({\r\n    type: Label,\r\n  })\r\n  private UnderLableValueUser: Label;\r\n\r\n  @property({\r\n    type: Label,\r\n  })\r\n  private OverLableValueUser: Label;\r\n\r\n  @property({\r\n    type: Label,\r\n  })\r\n  private totalUnderText: Label;\r\n\r\n  @property({\r\n    type: Label,\r\n  })\r\n  private totalOverText: Label;\r\n  @property({\r\n    type: Label,\r\n  })\r\n  private countDown: Label;\r\n\r\n  @property({\r\n    type: Label,\r\n  })\r\n  private countDownResult: Label;\r\n\r\n  @property({\r\n    type: Label,\r\n  })\r\n  private countPlayerOverLb: Label;\r\n\r\n  @property({\r\n    type: Label,\r\n  })\r\n  private countPlayerUnderLb: Label;\r\n\r\n  @property({\r\n    type: Label,\r\n  })\r\n  private BalanceNumber: Label;\r\n\r\n  @property({\r\n    type: Label,\r\n  })\r\n  private ToatalDice: Label;\r\n\r\n  @property({\r\n    type: Label,\r\n  })\r\n  private username: Label;\r\n\r\n  @property({\r\n    type: Label,\r\n  })\r\n  private tkpOver: Label;\r\n\r\n  @property({\r\n    type: Label,\r\n  })\r\n  private tkpUnder: Label;\r\n\r\n  @property({\r\n    type: Label,\r\n  })\r\n  private tkpUserUnder: Label;\r\n\r\n  @property({\r\n    type: Label,\r\n  })\r\n  private tkpUserOver: Label;\r\n\r\n  //BUTTON\r\n  @property({\r\n    type: Button,\r\n  })\r\n  value1k: Button;\r\n  @property({\r\n    type: Button,\r\n  })\r\n  value10k: Button;\r\n  @property({\r\n    type: Button,\r\n  })\r\n  value50k: Button;\r\n  @property({\r\n    type: Button,\r\n  })\r\n  value100k: Button;\r\n  @property({\r\n    type: Button,\r\n  })\r\n  value500k: Button;\r\n\r\n  @property({\r\n    type: Button,\r\n  })\r\n  value10M: Button;\r\n\r\n  @property({\r\n    type: Button,\r\n  })\r\n  private value50M: Button;\r\n\r\n  @property({\r\n    type: Button,\r\n  })\r\n  private unDice1His: Button;\r\n\r\n  @property({\r\n    type: Button,\r\n  })\r\n  private unDice2His: Button;\r\n\r\n  @property({\r\n    type: Button,\r\n  })\r\n  private unDice3His: Button;\r\n\r\n  @property({\r\n    type: Button,\r\n  })\r\n  private page2Button1: Button;\r\n\r\n  @property({\r\n    type: Button,\r\n  })\r\n  private page2Button2: Button;\r\n\r\n  @property({\r\n    type: SpriteFrame,\r\n  })\r\n  private dice1: SpriteFrame[] = [];\r\n\r\n  @property({\r\n    type: SpriteFrame,\r\n  })\r\n  private diceHis: SpriteFrame[] = [];\r\n\r\n  @property({\r\n    type: Label,\r\n  })\r\n  private tkpTime: Label[] = [];\r\n\r\n  @property({ type: [Node] })\r\n  imageNodes: Node[] = [];\r\n\r\n  @property({ type: [Node] })\r\n  imageNodesDiceRes: Node[] = [];\r\n\r\n  @property({ type: [Node] })\r\n  imageNodesResult: Node[] = [];\r\n\r\n  @property({ type: [Node] })\r\n  imageNodesResultHistory: Node[] = [];\r\n\r\n  @property({ type: [Node] })\r\n  NumberNodesResultHistory: Node[] = [];\r\n\r\n  @property({ type: [Node] })\r\n  ListDice1Node: Node[] = [];\r\n\r\n  @property({ type: [Node] })\r\n  ListDice2Node: Node[] = [];\r\n\r\n  @property({ type: [Node] })\r\n  ListDice3Node: Node[] = [];\r\n\r\n  @property({ type: [Label] })\r\n  LableChat: Label[] = [];\r\n\r\n  @property({\r\n    type: SpriteFrame,\r\n  })\r\n  private listSpriteResult: SpriteFrame[] = [];\r\n\r\n  @property({\r\n    type: SpriteFrame,\r\n  })\r\n  private listSpriteResultHistory: SpriteFrame[] = [];\r\n\r\n  @property({\r\n    type: SpriteFrame,\r\n  })\r\n  private listSpritetNumberHistory: SpriteFrame[] = [];\r\n\r\n  @property({\r\n    type: EditBox,\r\n  })\r\n  private editBoxChat: EditBox;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private Effect1: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private Effect2: Node;\r\n\r\n  @property({\r\n    type: Node,\r\n  })\r\n  private Effect3: Node;\r\n\r\n  @property({\r\n    type: AudioController,\r\n  })\r\n  private AudioController: AudioController;\r\n\r\n\r\n\r\n  private totalUserBetUnder: number = 0;\r\n  private totalUserBetOver: number = 0;\r\n  private totalBetOver: number = 0;\r\n  private totalBetUnder: number = 0;\r\n  private listScore: number[] = [\r\n    1000, 10000, 50000, 100000, 500000, 10000000, 50000000,\r\n  ];\r\n  private listValueDice: number[] = [1, 2, 3, 4, 5, 6];\r\n\r\n  private listSprite: SpriteFrame[] = [];\r\n  private listButton: Button[] = [];\r\n  private checkUnder: boolean = false;\r\n  private checkOver: boolean = false;\r\n  private gameEnd: boolean = true;\r\n  private checkEditFocus: boolean = false;\r\n  private shedu = null;\r\n  private nextRoll: number = 500;\r\n  private timeRate: number = 5000;\r\n  private valueDice: number = 0;\r\n  private balanceUser: number = 50000;\r\n  private cloneBalanUser: number = 50000;\r\n  private userValuebetUnder: number = 0;\r\n  private cloneuserValuebetUnder: number = 0;\r\n  private cloneuserValuebetOver: number = 0;\r\n  private userValuebetOver: number = 0;\r\n  private countdownTimerBet: number = 40;\r\n  private countdownTimerResult: number = 15;\r\n\r\n  // columnCount: number = 21;\r\n  private columnWidth: number = 34.5;\r\n  private sum: number = 0;\r\n  private countPlayerOver: number = 0;\r\n  private countPlayerUnder: number = 0;\r\n  private clonetotalUserBetUnder: number = 0;\r\n  private clonetotalUserBetOver: number = 0;\r\n  private checkouChat: number = 0;\r\n\r\n  private results: number[] = [];\r\n  private columnValues: number[] = [];\r\n  private resultsHistory: number[] = [];\r\n  private ListDice1His: number[] = [];\r\n  private ListDice2His: number[] = [];\r\n  private ListDice3His: number[] = [];\r\n  private ramdomDice: number[] = [];\r\n  private loggedInUsername;\r\n  private offMusic: boolean = true;\r\n  numPrefabsCreated=0;\r\n\r\n  private lineGraphicsArray: Graphics[] = [];\r\n\r\n  @property(Node)\r\n  pref:Node\r\n\r\n\r\n\r\n  @property(Prefab)\r\n  private Over: Prefab = null;\r\n\r\n  @property(Prefab)\r\n  private Under: Prefab = null;\r\n\r\n  private numRows: number = 6;\r\n  private numCols: number = 20;\r\n  private cellSize: number = 50; // Kích thước mỗi ô\r\n  private grid: Node[][] = [];\r\n  start() {\r\n    this.loggedInUsername = window[\"loggedInUsername\"];\r\n    const userInfo = this.getUsernameAndBalanceFromLocalStorage(\r\n      this.loggedInUsername\r\n    );\r\n    if (userInfo) {\r\n      this.username.string = userInfo.username;\r\n      this.balanceUser = userInfo.balance;\r\n    }\r\n    this.AudioController.onAudio(2);\r\n\r\n\r\n    // this.createGrid();\r\n\r\n\r\n    this.listButton = [\r\n      this.value1k,\r\n      this.value10k,\r\n      this.value50k,\r\n      this.value100k,\r\n      this.value500k,\r\n      this.value10M,\r\n      this.value50M,\r\n    ];\r\n    for (let i = 0; i < this.listButton.length; i++) {\r\n      let button = this.listButton[i];\r\n      button.node.on(Button.EventType.CLICK, () => {\r\n        if (\r\n          this.cloneBalanUser >= this.listScore[i] &&\r\n          this.cloneBalanUser >\r\n            this.totalUserBetOver + this.totalUserBetUnder &&\r\n          this.balanceUser !== 0 &&\r\n          this.gameEnd === false\r\n        ) {\r\n          this.addScore(this.listScore[i]);\r\n        } else {\r\n          console.log(\"khong du tien\");\r\n        }\r\n      });\r\n    }\r\n\r\n    this.shedu = this.schedule(() => {\r\n      this.totalOverText.string = this.formatNumberWithCommas(\r\n        this.totalBetOver\r\n      );\r\n      this.countPlayerOverLb.string = this.countPlayerOver.toString();\r\n      tween(this.totalOverText.node)\r\n        .to(0.5, { scale: new Vec3(1.5, 1.5) })\r\n        .call(() => {\r\n          tween(this.totalOverText.node)\r\n            .to(0.5, { scale: new Vec3(1, 1) })\r\n            .start();\r\n        })\r\n        .start();\r\n    }, 1);\r\n\r\n    this.schedule(() => {\r\n      // this.totalUnderText.string = this.totalBetUnder.toString();\r\n      this.totalUnderText.string = this.formatNumberWithCommas(\r\n        this.totalBetUnder\r\n      );\r\n      this.countPlayerUnderLb.string = this.countPlayerUnder.toString();\r\n      tween(this.totalUnderText.node)\r\n        .to(0.5, { scale: new Vec3(1.5, 1.5) })\r\n        .call(() => {\r\n          tween(this.totalUnderText.node)\r\n            .to(0.5, { scale: new Vec3(1, 1) })\r\n            .start();\r\n        })\r\n        .start();\r\n    }, 1);\r\n\r\n    setTimeout(() => {\r\n      this.gameEnd = false;\r\n      this.plate.getComponent(Animation).play(\"plateIn\");\r\n      this.AudioController.onAudio(3);\r\n      this.Effect1.getComponent(Animation).play();\r\n      this.countDown.node.active = true;\r\n      this.Effect3.active = false;\r\n      // this.Effect2.active = true;\r\n      this.displayImagesResult();\r\n      this.displayImagesResultHistory();\r\n      this.startCountdown(this.countdownTimerBet, 40);\r\n      this.scheduleRandomDice();\r\n      this.createNodeHistory();\r\n      this.createNodeDice1History();\r\n      this.createNodeDice2History();\r\n      this.createNodeDice3History();\r\n    }, 3000);\r\n\r\n    // this.handleEvent();\r\n    // input.on(Input.EventType.KEY_DOWN,this.onKeyDown,this);\r\n  }\r\n  \r\n  createGrid() {\r\n    if (this.numPrefabsCreated >= this.numRows * this.numCols) {\r\n        return;\r\n    }\r\n    const col = Math.floor(this.numPrefabsCreated / this.numRows);\r\n    const row = this.numPrefabsCreated % this.numRows;\r\n\r\n    if (!this.grid[row]) {\r\n        this.grid[row] = [];\r\n    }\r\n\r\n    let prefabType = (this.sum <= 10) ? this.Under : this.Over; \r\n    const cell = instantiate(prefabType);\r\n    cell.parent = this.pref;\r\n    cell.setPosition(new Vec3(col * this.cellSize, (this.numRows - 1 - row) * this.cellSize, 0));\r\n    this.grid[row].push(cell);\r\n    this.numPrefabsCreated++;\r\n\r\n    if (col === this.numCols - 1) {\r\n        this.numPrefabsCreated += this.numRows - 1;\r\n    }\r\n}\r\n\r\n// onMouseDown(event: EventTouch) {\r\n//   const col = Math.floor(pos.x / this.cellSize);\r\n//   const row = Math.floor(-pos.y / this.cellSize); // Y là ngược nên sử dụng -pos.y\r\n\r\n//   if (col >= 0 && col < this.numCols && row >= 0 && row < this.numRows) {\r\n//       const cell = instantiate(this.cellPrefab);\r\n//       cell.parent = this.node;\r\n//       cell.setPosition(new Vec3(col * this.cellSize, -row * this.cellSize, 0)); // Y là ngược nên sử dụng -row * cellSize\r\n//       this.grid[row][col] = cell;\r\n//   }\r\n// }\r\n\r\n\r\n  update(deltaTime: number) {\r\n    this.BalanceNumber.string = this.balanceUser.toString();\r\n\r\n    if (this.gameEnd === false) {\r\n      this.totalBetOver = this.totalBetOver + math.randomRangeInt(1000, 10000);\r\n      this.totalBetUnder =\r\n        this.totalBetUnder + math.randomRangeInt(1000, 10000);\r\n      this.countPlayerOver = this.countPlayerOver + math.randomRangeInt(1, 10);\r\n      this.countPlayerUnder =\r\n        this.countPlayerUnder + math.randomRangeInt(1, 10);\r\n    }\r\n\r\n    if (this.gameEnd === true) {\r\n    }\r\n    this.countDown.string = this.countdownTimerBet.toString();\r\n    this.countDownResult.string = this.countdownTimerResult.toString();\r\n  }\r\n\r\n  private activeBetOverbtn() {\r\n    this.checkOver = true;\r\n    if (this.checkUnder === true) {\r\n      this.checkUnder = false;\r\n    }\r\n    this.betOverNode.active = true;\r\n    this.betBarNode.active = true;\r\n    if (this.betUnderNode.active === true) {\r\n      this.betUnderNode.active = false;\r\n    }\r\n  }\r\n\r\n  private activeBetUnderbtn() {\r\n    this.checkUnder = true;\r\n    if (this.checkOver === true) {\r\n      this.checkOver = false;\r\n    }\r\n    this.betUnderNode.active = true;\r\n    this.betBarNode.active = true;\r\n    if (this.betOverNode.active === true) {\r\n      this.betOverNode.active = false;\r\n    }\r\n  }\r\n\r\n  private addScore(Score: number) {\r\n    if (this.checkUnder === true) {\r\n      this.totalUserBetUnder = this.totalUserBetUnder + Score;\r\n      this.cloneuserValuebetUnder = 0;\r\n      this.clonetotalUserBetUnder = this.clonetotalUserBetUnder + Score;\r\n      this.UnderLableValueUser.string = this.totalUserBetUnder.toString();\r\n    }\r\n    if (this.checkOver === true) {\r\n      this.totalUserBetOver = this.totalUserBetOver + Score;\r\n      this.cloneuserValuebetOver = 0;\r\n      this.clonetotalUserBetOver = this.clonetotalUserBetOver + Score;\r\n      this.OverLableValueUser.string = this.totalUserBetOver.toString();\r\n    }\r\n  }\r\n\r\n  private bet() {\r\n    if (\r\n      this.checkOver === true &&\r\n      this.cloneBalanUser >= this.totalUserBetOver &&\r\n      this.balanceUser !== 0 &&\r\n      this.gameEnd === false\r\n    ) {\r\n      this.balanceUser = this.balanceUser - this.clonetotalUserBetOver;\r\n\r\n      const isUpdated = this.setUsernameAndBalanceToLocalStorage(\r\n        this.loggedInUsername,\r\n        this.balanceUser\r\n      );\r\n      if (isUpdated) {\r\n        console.log(\"Cập nhật balance thành công!\");\r\n      } else {\r\n        console.log(\"Cập nhật balance thất bại!\");\r\n      }\r\n\r\n      this.userValuebetOver += this.clonetotalUserBetOver;\r\n      this.clonetotalUserBetOver = 0;\r\n      this.OverLableValueUser.string = this.totalUserBetOver.toString();\r\n      this.AudioController.onAudio(0);\r\n    } else if (\r\n      this.checkUnder === true &&\r\n      this.cloneBalanUser >= this.totalUserBetUnder &&\r\n      this.balanceUser !== 0 &&\r\n      this.gameEnd === false\r\n    ) {\r\n      this.balanceUser = this.balanceUser - this.clonetotalUserBetUnder;\r\n\r\n      const isUpdated = this.setUsernameAndBalanceToLocalStorage(\r\n        this.loggedInUsername,\r\n        this.balanceUser\r\n      );\r\n      if (isUpdated) {\r\n        console.log(\"Cập nhật balance thành công!\");\r\n      } else {\r\n        console.log(\"Cập nhật balance thất bại!\");\r\n      }\r\n\r\n      this.userValuebetUnder += this.clonetotalUserBetUnder;\r\n      this.clonetotalUserBetUnder = 0;\r\n      this.UnderLableValueUser.string = this.totalUserBetUnder.toString();\r\n      this.AudioController.onAudio(0);\r\n    } else {\r\n      console.log(\"nghèo\");\r\n    }\r\n  }\r\n\r\n  private scheduleRandomDice() {\r\n    const randomValues = this.getRandomValues();\r\n    this.displayImages(randomValues);\r\n    // this.displayImagesHisDice(randomValues);\r\n    // this.sum = this.sumValues(randomValues);\r\n    this.ToatalDice.string = this.sum.toString();\r\n    let dickAnimationFinished = false;\r\n    setTimeout(() => {\r\n      this.gameEnd = true;\r\n      this.displayImagesHisDice(randomValues);\r\n      this.sum = this.sumValues(randomValues);\r\n      this.plate.getComponent(Animation).play(\"Dick\");\r\n      this.AudioController.onAudio(4);\r\n      this.Effect2.active = true;\r\n      this.startCountdownResult(this.countdownTimerResult, 15);\r\n      this.tkpOver.string = this.formatNumberWithCommas2(this.totalBetOver);\r\n      this.tkpUserOver.string = this.countPlayerOver.toString();\r\n      this.tkpUserUnder.string = this.countPlayerUnder.toString();\r\n      for (let i = 0; i < this.tkpTime.length; i++) {\r\n        this.tkpTime[i].string = this.currentTime();\r\n      }\r\n      this.countDown.node.active = false;\r\n      this.countDownResult.node.active = true;\r\n\r\n      this.plate\r\n        .getComponent(Animation)\r\n        .on(Animation.EventType.FINISHED, () => {\r\n          dickAnimationFinished = true;\r\n          this.plate.active = false;\r\n\r\n          this.plate.getComponent(Animation).off(Animation.EventType.FINISHED);\r\n\r\n          if (this.sum < 10) {\r\n            this.createGrid();\r\n            this.updateResults(0);\r\n            this.displayImagesResult();\r\n            this.updateResultsHistory(0);\r\n            this.displayImagesResultHistory();\r\n\r\n            this.updateResultsHis(this.sum);\r\n            this.createNodeHistory();\r\n\r\n            this.updateResultsDice1History(this.ramdomDice[0]);\r\n            this.createNodeDice1History();\r\n\r\n            this.updateResultsDice2History(this.ramdomDice[1]);\r\n            this.createNodeDice2History();\r\n\r\n            this.updateResultsDice3History(this.ramdomDice[2]);\r\n            this.createNodeDice3History();\r\n\r\n            this.EffectUnder.active = true;\r\n            this.balanceUser += this.userValuebetUnder * 2;\r\n\r\n            const isUpdated = this.setUsernameAndBalanceToLocalStorage(\r\n              this.loggedInUsername,\r\n              this.balanceUser\r\n            );\r\n            if (isUpdated) {\r\n              console.log(\"Cập nhật balance thành công!\");\r\n            } else {\r\n              console.log(\"Cập nhật balance thất bại!\");\r\n            }\r\n          } else {\r\n            this.createGrid();\r\n            this.updateResults(1);\r\n            this.displayImagesResult();\r\n            this.updateResultsHistory(1);\r\n            this.displayImagesResultHistory();\r\n\r\n            this.updateResultsHis(this.sum);\r\n            this.createNodeHistory();\r\n\r\n            this.updateResultsDice1History(this.ramdomDice[0]);\r\n            this.createNodeDice1History();\r\n\r\n            this.updateResultsDice2History(this.ramdomDice[1]);\r\n            this.createNodeDice2History();\r\n\r\n            this.updateResultsDice3History(this.ramdomDice[2]);\r\n            this.createNodeDice3History();\r\n\r\n            this.Effect.active = true;\r\n            this.balanceUser += this.userValuebetOver * 2;\r\n\r\n            const isUpdated = this.setUsernameAndBalanceToLocalStorage(\r\n              this.loggedInUsername,\r\n              this.balanceUser\r\n            );\r\n            if (isUpdated) {\r\n              console.log(\"Cập nhật balance thành công!\");\r\n            } else {\r\n              console.log(\"Cập nhật balance thất bại!\");\r\n            }\r\n          }\r\n        });\r\n\r\n      setTimeout(() => {\r\n        this.countDownResult.node.active = false;\r\n        if (dickAnimationFinished) {\r\n          // this.plate.active = true;\r\n          if (this.EffectUnder.active === true) {\r\n            this.EffectUnder.active = false;\r\n          }\r\n          if (this.Effect.active === true) {\r\n            this.Effect.active = false;\r\n          }\r\n          this.totalBetOver = 0;\r\n          this.totalBetUnder = 0;\r\n          this.countPlayerOver = 0;\r\n          this.countPlayerUnder = 0;\r\n          this.totalUserBetOver = 0;\r\n          this.totalUserBetUnder = 0;\r\n          this.userValuebetOver = 0;\r\n          this.userValuebetUnder = 0;\r\n\r\n          this.AudioController.onAudio(2);\r\n\r\n          this.UnderLableValueUser.string = this.totalUserBetUnder.toString();\r\n          this.OverLableValueUser.string = this.totalUserBetOver.toString();\r\n          this.cloneBalanUser = this.balanceUser;\r\n          this.Effect2.active = false;\r\n          this.Effect3.active = true;\r\n          setTimeout(() => {\r\n            this.plate.active = true;\r\n            this.plate.getComponent(Animation).play(\"plateIn\");\r\n            this.AudioController.onAudio(3);\r\n            this.Effect1.getComponent(Animation).play();\r\n            this.Effect3.active = false;\r\n            this.countDown.node.active = true;\r\n            this.gameEnd = false;\r\n            this.startCountdown(this.countdownTimerBet, 40);\r\n            this.scheduleRandomDice();\r\n          }, 3000);\r\n        } else {\r\n          this.scheduleRandomDice();\r\n        }\r\n      }, 1500);\r\n    }, 4000);\r\n  }\r\n  private getRandomValues() {\r\n    const indices = [1, 2, 3, 4, 5, 6];\r\n    this.ramdomDice = [];\r\n    for (let i = 0; i < 3; i++) {\r\n      const randomIndex = Math.floor(Math.random() * indices.length);\r\n      this.ramdomDice.push(indices[randomIndex]);\r\n    }\r\n    return this.ramdomDice;\r\n  }\r\n\r\n  private sumValues(array) {\r\n    return array.reduce((sum, currentValue) => sum + currentValue, 0);\r\n  }\r\n\r\n  private displayImages(randomValues) {\r\n    randomValues.forEach((value, index) => {\r\n      const spriteFrame = this.dice1[value - 1];\r\n      const sprite = this.imageNodes[index].getComponent(Sprite);\r\n      if (sprite && spriteFrame) {\r\n        sprite.spriteFrame = spriteFrame;\r\n      } else {\r\n        console.error(\"Sprite or SpriteFrame is missing!\");\r\n      }\r\n    });\r\n  }\r\n\r\n  private displayImagesHisDice(randomValues) {\r\n    randomValues.forEach((value, index) => {\r\n      const spriteFrame = this.diceHis[value - 1];\r\n      const sprite = this.imageNodesDiceRes[index].getComponent(Sprite);\r\n      if (sprite && spriteFrame) {\r\n        sprite.spriteFrame = spriteFrame;\r\n      } else {\r\n        console.error(\"Sprite or SpriteFrame is missing!\");\r\n      }\r\n    });\r\n  }\r\n\r\n  private displayImagesResult() {\r\n    this.imageNodesResult.forEach((node, index) => {\r\n      const value = this.results[index];\r\n      if (value !== undefined) {\r\n        // Kiểm tra xem giá trị có tồn tại hay không\r\n        const sprite = node.getComponent(Sprite);\r\n        if (sprite) {\r\n          let spriteFrame;\r\n          if (value === 0) {\r\n            spriteFrame = this.listSpriteResult[0]; // Thay spriteFrameA bằng spriteFrame bạn muốn gán cho giá trị 0\r\n          } else if (value === 1) {\r\n            spriteFrame = this.listSpriteResult[1]; // Thay spriteFrameB bằng spriteFrame bạn muốn gán cho giá trị 1\r\n          } else {\r\n            console.error(\"Invalid result value:\", value);\r\n            node.active = false; // Ẩn node ảnh nếu giá trị không hợp lệ\r\n            return;\r\n          }\r\n          sprite.spriteFrame = spriteFrame;\r\n          node.active = true; // Kích hoạt node ảnh\r\n        } else {\r\n          console.error(\"Sprite is missing!\");\r\n        }\r\n      } else {\r\n        node.active = false; // Ẩn node ảnh nếu giá trị không tồn tại\r\n      }\r\n    });\r\n  }\r\n\r\n  private displayImagesResultHistory() {\r\n    this.imageNodesResultHistory.forEach((node, index) => {\r\n      const value = this.resultsHistory[index];\r\n      if (value !== undefined) {\r\n        // Kiểm tra xem giá trị có tồn tại hay không\r\n        const sprite = node.getComponent(Sprite);\r\n        if (sprite) {\r\n          let spriteFrame;\r\n          if (value === 0) {\r\n            spriteFrame = this.listSpriteResultHistory[0]; // Thay spriteFrameA bằng spriteFrame bạn muốn gán cho giá trị 0\r\n          } else if (value === 1) {\r\n            spriteFrame = this.listSpriteResultHistory[1]; // Thay spriteFrameB bằng spriteFrame bạn muốn gán cho giá trị 1\r\n          } else {\r\n            console.error(\"Invalid result value:\", value);\r\n            node.active = false; // Ẩn node ảnh nếu giá trị không hợp lệ\r\n            return;\r\n          }\r\n          sprite.spriteFrame = spriteFrame;\r\n          node.active = true; // Kích hoạt node ảnh\r\n        } else {\r\n          console.error(\"Sprite is missing!\");\r\n        }\r\n      } else {\r\n        node.active = false; // Ẩn node ảnh nếu giá trị không tồn tại\r\n      }\r\n    });\r\n  }\r\n\r\n  private startCountdownResult(timeCountDown: number, timereset: number) {\r\n    this.countdownTimerResult = 15;\r\n    const countdownInterval = setInterval(() => {\r\n      this.countdownTimerResult--;\r\n      if (this.countdownTimerResult <= 0) {\r\n        clearInterval(countdownInterval);\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  private startCountdown(timeCountDown: number, timereset: number) {\r\n    this.countdownTimerBet = 40;\r\n    const countdownInterval = setInterval(() => {\r\n      this.countdownTimerBet--;\r\n      if (this.countdownTimerBet <= 0) {\r\n        clearInterval(countdownInterval);\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  private updateResults(newResult: number): void {\r\n    this.results.push(newResult);\r\n    if (this.results.length > 20) {\r\n      this.results.shift();\r\n    }\r\n  }\r\n\r\n  private updateResultsHis(newResult: number): void {\r\n    this.columnValues.push(newResult);\r\n\r\n    if (this.columnValues.length > 21) {\r\n      this.columnValues.shift();\r\n      this.clearLineNode(this.LineNode);\r\n    }\r\n  }\r\n\r\n  private updateResultsHistory(newResult: number): void {\r\n    this.resultsHistory.push(newResult);\r\n    if (this.resultsHistory.length > 100) {\r\n      this.resultsHistory.shift();\r\n    }\r\n  }\r\n  private updateResultsDice1History(newResult: number): void {\r\n    this.ListDice1His.push(newResult);\r\n    if (this.resultsHistory.length > 21) {\r\n      this.ListDice1His.shift();\r\n      this.clearLineNode(this.LineNodeDice1);\r\n    }\r\n  }\r\n\r\n  private updateResultsDice2History(newResult: number): void {\r\n    this.ListDice2His.push(newResult);\r\n    if (this.ListDice2His.length > 21) {\r\n      this.ListDice2His.shift();\r\n      this.clearLineNode(this.LineNodeDice2);\r\n    }\r\n  }\r\n\r\n  private updateResultsDice3History(newResult: number): void {\r\n    this.ListDice3His.push(newResult);\r\n    if (this.ListDice3His.length > 21) {\r\n      this.ListDice3His.shift();\r\n      this.clearLineNode(this.LineNodeDice3);\r\n    }\r\n  }\r\n\r\n  private chatAppear() {\r\n    tween(this.Table)\r\n      .to(0.3, {\r\n        position: new Vec3(this.Table.position.x - 130, this.Table.position.y),\r\n      })\r\n      .call(() => {\r\n        this.Chat.active = true;\r\n      })\r\n      .start();\r\n\r\n    tween(this.logo1)\r\n      .to(0.3, {\r\n        position: new Vec3(this.logo1.position.x - 130, this.logo1.position.y),\r\n      })\r\n      .start();\r\n\r\n    tween(this.logo2)\r\n      .to(0.3, {\r\n        position: new Vec3(this.logo2.position.x - 130, this.logo2.position.y),\r\n      })\r\n      .start();\r\n    this.unchat.active = true;\r\n  }\r\n\r\n  private chatUnAppear() {\r\n    this.Chat.active = false;\r\n    this.unchat.active = false;\r\n\r\n    tween(this.Table)\r\n      .to(0.3, {\r\n        position: new Vec3(this.Table.position.x + 130, this.Table.position.y),\r\n      })\r\n      .start();\r\n\r\n    tween(this.logo1)\r\n      .to(0.3, {\r\n        position: new Vec3(this.logo1.position.x + 130, this.logo1.position.y),\r\n      })\r\n      .start();\r\n\r\n    tween(this.logo2)\r\n      .to(0.3, {\r\n        position: new Vec3(this.logo2.position.x + 130, this.logo2.position.y),\r\n      })\r\n      .start();\r\n  }\r\n\r\n  private handleEvent(): void {\r\n    // Move the value of each label to the next label\r\n    for (let i = this.LableChat.length - 1; i > 0; i--) {\r\n      this.LableChat[i].string = this.LableChat[i - 1].string;\r\n    }\r\n\r\n    // Assign the value of the edit box to the first label\r\n    this.LableChat[0].string =\r\n      this.loggedInUsername + \": \" + this.editBoxChat.string;\r\n    this.editBoxChat.string = \"\";\r\n    // this.editBoxChat.node.on(EditBox.EventType.EDITING_RETURN)\r\n  }\r\n  private introduceBoardActive() {\r\n    this.introduceBoard.active = true;\r\n  }\r\n\r\n  private introduceBoardUnActive() {\r\n    this.introduceBoard.active = false;\r\n  }\r\n\r\n  private historyNodeActive() {\r\n    this.HistoryNode.active = true;\r\n  }\r\n\r\n  private historyNodeUnActive() {\r\n    this.HistoryNode.active = false;\r\n  }\r\n\r\n  private createNodeHistory() {\r\n    let gapBetweenColumns = this.columnWidth * 1.5;\r\n\r\n    let lineContainer = new Node();\r\n    lineContainer.parent = this.LineNode;\r\n\r\n    let graphics = lineContainer.addComponent(Graphics);\r\n    graphics.lineWidth = 10;\r\n    graphics.strokeColor = new Color(255, 0, 0);\r\n    let prevColumnNode: Node = null;\r\n    this.NumberNodesResultHistory.forEach((node, index) => {\r\n      const value = this.columnValues[index];\r\n      if (value !== undefined) {\r\n        const sprite = node.getComponent(Sprite);\r\n        if (sprite) {\r\n          let spriteFrame;\r\n          if (value >= 3 && value <= 10) {\r\n            if (value === 3) {\r\n              spriteFrame = this.listSpritetNumberHistory[0];\r\n            }\r\n\r\n            if (value === 4) {\r\n              spriteFrame = this.listSpritetNumberHistory[1];\r\n            }\r\n\r\n            if (value === 5) {\r\n              spriteFrame = this.listSpritetNumberHistory[2];\r\n            }\r\n\r\n            if (value === 6) {\r\n              spriteFrame = this.listSpritetNumberHistory[3];\r\n            }\r\n\r\n            if (value === 7) {\r\n              spriteFrame = this.listSpritetNumberHistory[4];\r\n            }\r\n\r\n            if (value === 8) {\r\n              spriteFrame = this.listSpritetNumberHistory[5];\r\n            }\r\n\r\n            if (value === 9) {\r\n              spriteFrame = this.listSpritetNumberHistory[6];\r\n            }\r\n\r\n            if (value === 10) {\r\n              spriteFrame = this.listSpritetNumberHistory[7];\r\n            }\r\n            node.setPosition(value * gapBetweenColumns * 0.2, node.position.y);\r\n            // if\r\n          } else if (value > 10) {\r\n            node.setPosition(value * gapBetweenColumns * 0.2, node.position.y);\r\n            if (value === 11) {\r\n              spriteFrame = this.listSpritetNumberHistory[8];\r\n            }\r\n\r\n            if (value === 12) {\r\n              spriteFrame = this.listSpritetNumberHistory[9];\r\n            }\r\n\r\n            if (value === 13) {\r\n              spriteFrame = this.listSpritetNumberHistory[10];\r\n            }\r\n\r\n            if (value === 14) {\r\n              spriteFrame = this.listSpritetNumberHistory[11];\r\n            }\r\n\r\n            if (value === 15) {\r\n              spriteFrame = this.listSpritetNumberHistory[12];\r\n            }\r\n\r\n            if (value === 16) {\r\n              spriteFrame = this.listSpritetNumberHistory[13];\r\n            }\r\n\r\n            if (value === 17) {\r\n              spriteFrame = this.listSpritetNumberHistory[14];\r\n            }\r\n\r\n            if (value === 18) {\r\n              spriteFrame = this.listSpritetNumberHistory[15];\r\n            }\r\n          } else {\r\n            console.error(\"Invalid result value:\", value);\r\n            node.active = false; // Ẩn node ảnh nếu giá trị không hợp lệ\r\n            return;\r\n          }\r\n          sprite.spriteFrame = spriteFrame;\r\n          node.active = true; // Kích hoạt node ảnh\r\n          if (prevColumnNode) {\r\n            graphics.moveTo(\r\n              prevColumnNode.position.x,\r\n              prevColumnNode.position.y\r\n            );\r\n            graphics.lineTo(node.position.x, node.position.y);\r\n            graphics.stroke();\r\n          }\r\n          prevColumnNode = node;\r\n        } else {\r\n          console.error(\"Sprite is missing!\");\r\n        }\r\n      } else {\r\n        node.active = false; // Ẩn node ảnh nếu giá trị không tồn tại\r\n      }\r\n    });\r\n  }\r\n\r\n  private createNodeDice1History() {\r\n    let gapBetweenColumns = this.columnWidth * 1.5;\r\n\r\n    let lineContainer = new Node();\r\n    lineContainer.parent = this.LineNodeDice1;\r\n\r\n    let graphics = lineContainer.addComponent(Graphics);\r\n    graphics.lineWidth = 5;\r\n    graphics.strokeColor = new Color(247, 62, 245);\r\n    let prevColumnNode: Node = null;\r\n    this.ListDice1Node.forEach((node, index) => {\r\n      const value = this.ListDice1His[index];\r\n      if (value !== undefined) {\r\n        node.setPosition(value * gapBetweenColumns * 0.61, node.position.y);\r\n        node.active = true;\r\n        if (prevColumnNode) {\r\n          graphics.moveTo(prevColumnNode.position.x, prevColumnNode.position.y);\r\n          graphics.lineTo(node.position.x, node.position.y);\r\n          graphics.stroke();\r\n        }\r\n        prevColumnNode = node;\r\n      } else {\r\n        node.active = false; // Ẩn node ảnh nếu giá trị không tồn tại\r\n      }\r\n    });\r\n  }\r\n\r\n  private createNodeDice2History() {\r\n    let gapBetweenColumns = this.columnWidth * 1.5;\r\n\r\n    let lineContainer = new Node();\r\n    lineContainer.parent = this.LineNodeDice2;\r\n\r\n    let graphics = lineContainer.addComponent(Graphics);\r\n    graphics.lineWidth = 5;\r\n    graphics.strokeColor = new Color(222, 51, 70);\r\n    let prevColumnNode: Node = null;\r\n    this.ListDice2Node.forEach((node, index) => {\r\n      const value = this.ListDice2His[index];\r\n      if (value !== undefined) {\r\n        node.setPosition(value * gapBetweenColumns * 0.61, node.position.y);\r\n        node.active = true;\r\n        if (prevColumnNode) {\r\n          graphics.moveTo(prevColumnNode.position.x, prevColumnNode.position.y);\r\n          graphics.lineTo(node.position.x, node.position.y);\r\n          graphics.stroke();\r\n        }\r\n        prevColumnNode = node;\r\n      } else {\r\n        node.active = false; // Ẩn node ảnh nếu giá trị không tồn tại\r\n      }\r\n    });\r\n  }\r\n\r\n  private createNodeDice3History() {\r\n    let gapBetweenColumns = this.columnWidth * 1.5;\r\n\r\n    let lineContainer = new Node();\r\n    lineContainer.parent = this.LineNodeDice3;\r\n\r\n    let graphics = lineContainer.addComponent(Graphics);\r\n    graphics.lineWidth = 5;\r\n    graphics.strokeColor = new Color(78, 251, 151);\r\n    let prevColumnNode: Node = null;\r\n    this.ListDice3Node.forEach((node, index) => {\r\n      const value = this.ListDice3His[index];\r\n      if (value !== undefined) {\r\n        node.setPosition(value * gapBetweenColumns * 0.61, node.position.y);\r\n        node.active = true;\r\n        if (prevColumnNode) {\r\n          graphics.moveTo(prevColumnNode.position.x, prevColumnNode.position.y);\r\n          graphics.lineTo(node.position.x, node.position.y);\r\n          graphics.stroke();\r\n        }\r\n        prevColumnNode = node;\r\n      } else {\r\n        node.active = false; // Ẩn node ảnh nếu giá trị không tồn tại\r\n      }\r\n    });\r\n  }\r\n\r\n  createColumn(columnValue: number): Node {\r\n    let columnNode = instantiate(this.black);\r\n    return columnNode;\r\n  }\r\n\r\n  private clearLineNode(LineNode: Node) {\r\n    if (LineNode) {\r\n      LineNode.removeAllChildren();\r\n    } else {\r\n      console.warn(\"LineNode is not available.\");\r\n    }\r\n  }\r\n\r\n  private unDice1() {\r\n    this.unDice1His.node.active = false;\r\n    this.LineNodeDice1.active = false;\r\n    this.Dice1Hist.active = false;\r\n  }\r\n\r\n  private ActiveDice1() {\r\n    this.unDice1His.node.active = true;\r\n    this.LineNodeDice1.active = true;\r\n    this.Dice1Hist.active = true;\r\n  }\r\n\r\n  private unDice2() {\r\n    this.unDice2His.node.active = false;\r\n    this.LineNodeDice2.active = false;\r\n    this.Dice2Hist.active = false;\r\n  }\r\n\r\n  private ActiveDice2() {\r\n    this.unDice2His.node.active = true;\r\n    this.LineNodeDice2.active = true;\r\n    this.Dice2Hist.active = true;\r\n  }\r\n\r\n  private unDice3() {\r\n    this.unDice3His.node.active = false;\r\n    this.LineNodeDice3.active = false;\r\n    this.Dice3ist.active = false;\r\n  }\r\n\r\n  private ActiveDice3() {\r\n    this.unDice3His.node.active = true;\r\n    this.LineNodeDice3.active = true;\r\n    this.Dice3ist.active = true;\r\n  }\r\n\r\n  private activePage() {\r\n    if (this.page1His.active === true) {\r\n      this.page2His.active = true;\r\n      this.page1His.active = false;\r\n      this.page2Button1.node.active = true;\r\n      this.page2Button2.node.active = true;\r\n      if (this.Dice1His.active === false) {\r\n        this.Dice1His.active = true;\r\n        this.Dice2His.active = true;\r\n        this.Dice3His.active = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  private activePage2() {\r\n    if (this.page2His.active === true) {\r\n      this.page2His.active = false;\r\n      this.page1His.active = true;\r\n      this.page2Button1.node.active = false;\r\n      this.page2Button2.node.active = false;\r\n      if (this.Dice1His.active === true) {\r\n        this.Dice1His.active = false;\r\n        this.Dice2His.active = false;\r\n        this.Dice3His.active = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  private CancelBet() {\r\n    if (this.gameEnd === false) {\r\n      this.totalUserBetOver =\r\n        this.totalUserBetOver - this.clonetotalUserBetOver;\r\n      this.clonetotalUserBetOver = 0;\r\n      // this.totalUserBetUnder =\r\n      //   this.totalUserBetUnder - this.clonetotalUserBetUnder;\r\n      // this.clonetotalUserBetUnder = 0;\r\n      // this.UnderLableValueUser.string = this.totalUserBetOver.toString();\r\n      this.OverLableValueUser.string = this.userValuebetOver.toString();\r\n      console.log(this.totalUserBetOver);\r\n    }\r\n  }\r\n\r\n  private HistoryUserBetActiveH() {\r\n    this.HistoryUserBet.active = true;\r\n  }\r\n\r\n  private HistoryUserBetUnable() {\r\n    this.HistoryUserBet.active = false;\r\n  }\r\n\r\n  private HistoryUserActiveH() {\r\n    this.HistoryUser.active = true;\r\n  }\r\n\r\n  private HistoryUserUnable() {\r\n    this.HistoryUser.active = false;\r\n  }\r\n\r\n  private doubleBet() {\r\n    if (\r\n      this.checkOver === true &&\r\n      this.totalUserBetOver * 2 <= this.cloneBalanUser &&\r\n      this.totalUserBetOver * 2 <= this.balanceUser &&\r\n      this.gameEnd === false\r\n    ) {\r\n      this.totalUserBetOver = this.totalUserBetOver * 2;\r\n\r\n      this.clonetotalUserBetOver =\r\n        this.totalUserBetOver - this.userValuebetOver;\r\n      this.OverLableValueUser.string = this.totalUserBetOver.toString();\r\n    }\r\n\r\n    if (\r\n      this.checkUnder === true &&\r\n      this.totalUserBetUnder * 2 <= this.cloneBalanUser &&\r\n      this.gameEnd === false\r\n    ) {\r\n      this.totalUserBetUnder = this.totalUserBetUnder * 2;\r\n      this.clonetotalUserBetUnder =\r\n        this.totalUserBetUnder - this.userValuebetUnder;\r\n      this.UnderLableValueUser.string = this.totalUserBetUnder.toString();\r\n    }\r\n  }\r\n\r\n  private winRate() {\r\n    this.Winrate.active = true;\r\n  }\r\n  private winRateUn() {\r\n    this.Winrate.active = false;\r\n  }\r\n\r\n  private getUsernameAndBalanceFromLocalStorage(\r\n    username: string\r\n  ): { username: string; balance: number } | null {\r\n    const storedAccounts = localStorage.getItem(\"registeredAccounts\");\r\n    if (storedAccounts) {\r\n      const registeredAccounts: AccountInfo[] = JSON.parse(storedAccounts);\r\n      const account = registeredAccounts.find(\r\n        (acc) => acc.username === username\r\n      );\r\n      if (account) {\r\n        return { username: account.username, balance: account.balance };\r\n      } else {\r\n        console.log(\"Tài khoản không tồn tại!\");\r\n        return null;\r\n      }\r\n    } else {\r\n      console.log(\"Không có dữ liệu tài khoản trong Local Storage!\");\r\n      return null;\r\n    }\r\n  }\r\n\r\n  private setUsernameAndBalanceToLocalStorage(\r\n    username: string,\r\n    newBalance: number\r\n  ): boolean {\r\n    const storedAccounts = localStorage.getItem(\"registeredAccounts\");\r\n    if (storedAccounts) {\r\n      let registeredAccounts: AccountInfo[] = JSON.parse(storedAccounts);\r\n      const index = registeredAccounts.findIndex(\r\n        (acc) => acc.username === username\r\n      );\r\n      if (index !== -1) {\r\n        registeredAccounts[index].balance = newBalance;\r\n        localStorage.setItem(\r\n          \"registeredAccounts\",\r\n          JSON.stringify(registeredAccounts)\r\n        );\r\n        return true; // Trả về true nếu cập nhật thành công\r\n      } else {\r\n        console.log(\"Tài khoản không tồn tại!\");\r\n        return false; // Trả về false nếu tài khoản không tồn tại\r\n      }\r\n    } else {\r\n      console.log(\"Không có dữ liệu tài khoản trong Local Storage!\");\r\n      return false; // Trả về false nếu không có dữ liệu trong Local Storage\r\n    }\r\n  }\r\n\r\n  formatNumberWithCommas(number) {\r\n    return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n  }\r\n\r\n  formatNumberWithCommas2(number) {\r\n    if (number >= 1000000 && number < 1000000000) {\r\n      return (\r\n        (number / 1000000).toFixed(2).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") +\r\n        \"M\"\r\n      );\r\n    } else if (number >= 1000000000) {\r\n      return (\r\n        (number / 1000000000).toFixed(2).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") +\r\n        \"B\"\r\n      );\r\n    } else {\r\n      return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n    }\r\n  }\r\n\r\n  private currentTime() {\r\n    const currentTime: Date = new Date();\r\n\r\n    const hour: number = currentTime.getHours();\r\n    const minute: number = currentTime.getMinutes();\r\n    const second: number = currentTime.getSeconds();\r\n\r\n    return `${hour}:${minute}:${second}`;\r\n  }\r\n\r\n  private buttonMusicb() {\r\n    if (this.offMusic) {\r\n      // Trừ 62 nếu đang ở trạng thái trừ\r\n      tween(this.buttonMusic)\r\n        .to(0.2, { position: new Vec3(-31) })\r\n        .start();\r\n      this.AudioController.settingAudio(0);\r\n    } else {\r\n      // Cộng 62 nếu đang ở trạng thái cộng\r\n      tween(this.buttonMusic)\r\n        .to(0.2, { position: new Vec3(31) })\r\n        .start();\r\n      this.AudioController.settingAudio(1);\r\n    }\r\n    console.log(this.offMusic);\r\n\r\n    // Đảo ngược trạng thái sau mỗi lần gọi\r\n    this.offMusic = !this.offMusic;\r\n  }\r\n}\r\n"]}