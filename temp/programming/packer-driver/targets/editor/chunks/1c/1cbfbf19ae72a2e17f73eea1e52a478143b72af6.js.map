{"version":3,"sources":["file:///Users/waostudio/Desktop/tx2/assets/Scripts/GameController.ts"],"names":["_decorator","Button","Component","Label","math","Node","tween","Vec3","Animation","SpriteFrame","Sprite","EditBox","instantiate","Prefab","Graphics","Color","AudioController","ccclass","property","GameC","type","totalUserBetUnder","totalUserBetOver","totalBetOver","totalBetUnder","listScore","listValueDice","listSprite","listButton","checkUnder","checkOver","gameEnd","checkEditFocus","shedu","nextRoll","timeRate","valueDice","balanceUser","cloneBalanUser","userValuebetUnder","cloneuserValuebetUnder","cloneuserValuebetOver","userValuebetOver","countdownTimerBet","countdownTimerResult","columnWidth","sum","countPlayerOver","countPlayerUnder","clonetotalUserBetUnder","clonetotalUserBetOver","checkouChat","results","columnValues","resultsHistory","ListDice1His","ListDice2His","ListDice3His","ramdomDice","loggedInUsername","offMusic","numPrefabsCreated","currentCol","currentRow","previousPrefabType","jumpToNextColumn","lineGraphicsArray","numRows","numCols","cellWidth","cellHeight","start","window","userInfo","getUsernameAndBalanceFromLocalStorage","username","string","balance","onAudio","value1k","value10k","value50k","value100k","value500k","value10M","value50M","i","length","button","node","on","EventType","CLICK","console","log","addScore","warningNotEn","active","setTimeout","schedule","totalOverText","formatNumberWithCommas","countPlayerOverLb","toString","to","scale","call","totalUnderText","countPlayerUnderLb","plate","getComponent","play","Effect1","countDown","Effect3","displayImagesResult","displayImagesResultHistory","startCountdown","scheduleRandomDice","createNodeHistory","createNodeDice1History","createNodeDice2History","createNodeDice3History","update","deltaTime","BalanceNumber","randomRangeInt","countDownResult","createGrid","prefabType","Under","Over","clearGrid","name","cell","posX","posY","position","pref","addChild","removeAllChildren","Score","UnderLableValueUser","OverLableValueUser","bet","isUpdated","setUsernameAndBalanceToLocalStorage","randomValues","getRandomValues","displayImages","ToatalDice","dickAnimationFinished","displayImagesHisDice","sumValues","Effect2","startCountdownResult","tkpOver","formatNumberWithCommas2","tkpUnder","tkpUserOver","tkpUserUnder","tkpTime","currentTime","FINISHED","off","updateResults","updateResultsHistory","updateResultsHis","updateResultsDice1History","updateResultsDice2History","updateResultsDice3History","EffectUnder","Effect","indices","randomIndex","Math","floor","random","push","array","reduce","currentValue","forEach","value","index","spriteFrame","dice1","sprite","imageNodes","error","diceHis","imageNodesDiceRes","imageNodesResult","undefined","listSpriteResult","imageNodesResultHistory","listSpriteResultHistory","timeCountDown","timereset","countdownInterval","setInterval","clearInterval","newResult","shift","clearLineNode","LineNode","LineNodeDice1","LineNodeDice2","LineNodeDice3","activeBetOverbtn","betOverNode","betBarNode","betUnderNode","activeBetUnderbtn","chatAppear","Table","x","y","Chat","logo1","logo2","unchat","chatUnAppear","handleEvent","LableChat","editBoxChat","introduceBoardActive","introduceBoard","introduceBoardUnActive","historyNodeActive","HistoryNode","historyNodeUnActive","gapBetweenColumns","lineContainer","parent","graphics","addComponent","lineWidth","strokeColor","prevColumnNode","NumberNodesResultHistory","listSpritetNumberHistory","setPosition","moveTo","lineTo","stroke","ListDice1Node","ListDice2Node","ListDice3Node","createColumn","columnValue","columnNode","black","warn","unDice1","unDice1His","Dice1Hist","ActiveDice1","unDice2","unDice2His","Dice2Hist","ActiveDice2","unDice3","unDice3His","Dice3ist","ActiveDice3","activePage","page1His","page2His","page2Button1","page2Button2","Dice1His","Dice2His","Dice3His","activePage2","CancelBet","HistoryUserBetActiveH","HistoryUserBet","HistoryUserBetUnable","HistoryUserActiveH","HistoryUser","HistoryUserUnable","doubleBet","winRate","Winrate","winRateUn","storedAccounts","localStorage","getItem","registeredAccounts","JSON","parse","account","find","acc","newBalance","findIndex","setItem","stringify","number","replace","toFixed","Date","hour","getHours","minute","getMinutes","second","getSeconds","buttonMusicb","buttonMusic","settingAudio"],"mappings":"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","sourcesContent":["import {\n  _decorator,\n  Button,\n  Component,\n  Label,\n  math,\n  Node,\n  tween,\n  Vec3,\n  Animation,\n  SpriteFrame,\n  Sprite,\n  input,\n  Input,\n  macro,\n  EditBox,\n  NodeEventType,\n  EventKeyboard,\n  KeyCode,\n  instantiate,\n  Prefab,\n  Graphics,\n  Color,\n  SystemEvent,\n  Event,\n  log,\n  director,\n  Vec2,\n} from \"cc\";\nimport { AudioController } from \"./Audio/AudioController\";\n\nconst { ccclass, property } = _decorator;\n\ninterface SceneParams {\n  username: string;\n}\n\ninterface AccountInfo {\n  username: string;\n  password: string;\n  balance: number; // Thêm trường balance\n}\n\n@ccclass(\"GameC\")\nexport class GameC extends Component {\n  @property({\n    type: Node,\n  })\n  private betOverNode: Node;\n  @property({\n    type: Node,\n  })\n  private betUnderNode: Node;\n  @property({\n    type: Node,\n  })\n  private betBarNode: Node;\n\n  @property({\n    type: Node,\n  })\n  private plate: Node;\n\n  @property({\n    type: Node,\n  })\n  private Effect: Node;\n\n  @property({\n    type: Node,\n  })\n  private EffectUnder: Node;\n\n  @property({\n    type: Node,\n  })\n  private Chat: Node;\n\n  @property({\n    type: Node,\n  })\n  private Table: Node;\n\n  @property({\n    type: Node,\n  })\n  private unchat: Node;\n\n  @property({\n    type: Node,\n  })\n  private introduceBoard: Node;\n\n  @property({\n    type: Node,\n  })\n  private HistoryNode: Node;\n\n  @property({\n    type: Prefab,\n  })\n  private black: Prefab;\n\n  @property({\n    type: Node,\n  })\n  private numberHis: Node;\n\n  @property({\n    type: Node,\n  })\n  private LineNode: Node;\n\n  @property({\n    type: Node,\n  })\n  private LineNodeDice1: Node;\n\n  @property({\n    type: Node,\n  })\n  private Winrate: Node;\n\n  @property({\n    type: Node,\n  })\n  private LineNodeDice2: Node;\n\n  @property({\n    type: Node,\n  })\n  private LineNodeDice3: Node;\n\n  @property({\n    type: Node,\n  })\n  private Dice1Hist: Node;\n\n  @property({\n    type: Node,\n  })\n  private Dice2Hist: Node;\n\n  @property({\n    type: Node,\n  })\n  private Dice3ist: Node;\n\n  @property({\n    type: Node,\n  })\n  private page1His: Node;\n\n  @property({\n    type: Node,\n  })\n  private page2His: Node;\n\n  @property({\n    type: Node,\n  })\n  private Dice1His: Node;\n\n  @property({\n    type: Node,\n  })\n  private Dice2His: Node;\n\n  @property({\n    type: Node,\n  })\n  private Dice3His: Node;\n\n  @property({\n    type: Node,\n  })\n  private HistoryUserBet: Node;\n\n  @property({\n    type: Node,\n  })\n  private HistoryUser: Node;\n\n  @property({\n    type: Node,\n  })\n  private logo1: Node;\n\n  @property({\n    type: Node,\n  })\n  private logo2: Node;\n\n  @property({\n    type: Node,\n  })\n  private buttonMusic: Node;\n\n  //Lable\n  @property({\n    type: Label,\n  })\n  private UnderLableValueUser: Label;\n\n  @property({\n    type: Label,\n  })\n  private OverLableValueUser: Label;\n\n  @property({\n    type: Label,\n  })\n  private totalUnderText: Label;\n\n  @property({\n    type: Label,\n  })\n  private totalOverText: Label;\n  @property({\n    type: Label,\n  })\n  private countDown: Label;\n\n  @property({\n    type: Label,\n  })\n  private countDownResult: Label;\n\n  @property({\n    type: Label,\n  })\n  private countPlayerOverLb: Label;\n\n  @property({\n    type: Label,\n  })\n  private countPlayerUnderLb: Label;\n\n  @property({\n    type: Label,\n  })\n  private BalanceNumber: Label;\n\n  @property({\n    type: Label,\n  })\n  private ToatalDice: Label;\n\n  @property({\n    type: Label,\n  })\n  private username: Label;\n\n  @property({\n    type: Label,\n  })\n  private tkpOver: Label;\n\n  @property({\n    type: Label,\n  })\n  private tkpUnder: Label;\n\n  @property({\n    type: Label,\n  })\n  private tkpUserUnder: Label;\n\n  @property({\n    type: Label,\n  })\n  private tkpUserOver: Label;\n\n  //BUTTON\n  @property({\n    type: Button,\n  })\n  value1k: Button;\n  @property({\n    type: Button,\n  })\n  value10k: Button;\n  @property({\n    type: Button,\n  })\n  value50k: Button;\n  @property({\n    type: Button,\n  })\n  value100k: Button;\n  @property({\n    type: Button,\n  })\n  value500k: Button;\n\n  @property({\n    type: Button,\n  })\n  value10M: Button;\n\n  @property({\n    type: Button,\n  })\n  private value50M: Button;\n\n  @property({\n    type: Button,\n  })\n  private unDice1His: Button;\n\n  @property({\n    type: Button,\n  })\n  private unDice2His: Button;\n\n  @property({\n    type: Button,\n  })\n  private unDice3His: Button;\n\n  @property({\n    type: Button,\n  })\n  private page2Button1: Button;\n\n  @property({\n    type: Button,\n  })\n  private page2Button2: Button;\n\n  @property({\n    type: SpriteFrame,\n  })\n  private dice1: SpriteFrame[] = [];\n\n  @property({\n    type: SpriteFrame,\n  })\n  private diceHis: SpriteFrame[] = [];\n\n  @property({\n    type: Label,\n  })\n  private tkpTime: Label[] = [];\n\n  @property({ type: [Node] })\n  imageNodes: Node[] = [];\n\n  @property({ type: [Node] })\n  imageNodesDiceRes: Node[] = [];\n\n  @property({ type: [Node] })\n  imageNodesResult: Node[] = [];\n\n  @property({ type: [Node] })\n  imageNodesResultHistory: Node[] = [];\n\n  @property({ type: [Node] })\n  NumberNodesResultHistory: Node[] = [];\n\n  @property({ type: [Node] })\n  ListDice1Node: Node[] = [];\n\n  @property({ type: [Node] })\n  ListDice2Node: Node[] = [];\n\n  @property({ type: [Node] })\n  ListDice3Node: Node[] = [];\n\n  @property({ type: [Label] })\n  LableChat: Label[] = [];\n\n  @property({\n    type: SpriteFrame,\n  })\n  private listSpriteResult: SpriteFrame[] = [];\n\n  @property({\n    type: SpriteFrame,\n  })\n  private listSpriteResultHistory: SpriteFrame[] = [];\n\n  @property({\n    type: SpriteFrame,\n  })\n  private listSpritetNumberHistory: SpriteFrame[] = [];\n\n  @property({\n    type: EditBox,\n  })\n  private editBoxChat: EditBox;\n\n  @property({\n    type: Node,\n  })\n  private Effect1: Node;\n\n  @property({\n    type: Node,\n  })\n  private Effect2: Node;\n\n  @property({\n    type: Node,\n  })\n  private Effect3: Node;\n\n  @property({\n    type: Node,\n  })\n  private warningNotEn: Node;\n\n  @property({\n    type: AudioController,\n  })\n  private AudioController: AudioController;\n\n  private totalUserBetUnder: number = 0;\n  private totalUserBetOver: number = 0;\n  private totalBetOver: number = 0;\n  private totalBetUnder: number = 0;\n  private listScore: number[] = [\n    1000, 10000, 50000, 100000, 500000, 10000000, 50000000,\n  ];\n  private listValueDice: number[] = [1, 2, 3, 4, 5, 6];\n\n  private listSprite: SpriteFrame[] = [];\n  private listButton: Button[] = [];\n  private checkUnder: boolean = false;\n  private checkOver: boolean = false;\n  private gameEnd: boolean = true;\n  private checkEditFocus: boolean = false;\n  private shedu = null;\n  private nextRoll: number = 500;\n  private timeRate: number = 5000;\n  private valueDice: number = 0;\n  private balanceUser: number = 50000;\n  private cloneBalanUser: number = 50000;\n  private userValuebetUnder: number = 0;\n  private cloneuserValuebetUnder: number = 0;\n  private cloneuserValuebetOver: number = 0;\n  private userValuebetOver: number = 0;\n  private countdownTimerBet: number = 40;\n  private countdownTimerResult: number = 15;\n\n  // columnCount: number = 21;\n  private columnWidth: number = 34.5;\n  private sum: number = 0;\n  private countPlayerOver: number = 0;\n  private countPlayerUnder: number = 0;\n  private clonetotalUserBetUnder: number = 0;\n  private clonetotalUserBetOver: number = 0;\n  private checkouChat: number = 0;\n\n  private results: number[] = [];\n  private columnValues: number[] = [];\n  private resultsHistory: number[] = [];\n  private ListDice1His: number[] = [];\n  private ListDice2His: number[] = [];\n  private ListDice3His: number[] = [];\n  private ramdomDice: number[] = [];\n  private loggedInUsername;\n  private offMusic: boolean = true;\n  numPrefabsCreated = 0;\n  private currentCol = 0;\n  private currentRow = 0;\n  previousPrefabType = null;\n  jumpToNextColumn = false;\n\n  private lineGraphicsArray: Graphics[] = [];\n\n  @property(Node)\n  pref: Node;\n\n  @property(Prefab)\n  private Over: Prefab = null;\n\n  @property(Prefab)\n  private Under: Prefab = null;\n\n  // private numRows: number = 6;\n  // private numCols: number = 20;\n  // private cellSize: number = 50; // Kích thước mỗi ô\n  // private grid: Node[][] = [];\n\n  private numRows: number = 6;\n  private numCols: number = 20;\n  private cellWidth: number = 50;\n  private cellHeight: number = 50;\n\n  start() {\n    this.loggedInUsername = window[\"loggedInUsername\"];\n    const userInfo = this.getUsernameAndBalanceFromLocalStorage(\n      this.loggedInUsername\n    );\n    if (userInfo) {\n      this.username.string = userInfo.username;\n      this.balanceUser = userInfo.balance;\n    }\n    this.AudioController.onAudio(2);\n    this.cloneBalanUser = this.balanceUser;\n    // this.createGrid();\n\n    this.listButton = [\n      this.value1k,\n      this.value10k,\n      this.value50k,\n      this.value100k,\n      this.value500k,\n      this.value10M,\n      this.value50M,\n    ];\n    for (let i = 0; i < this.listButton.length; i++) {\n      let button = this.listButton[i];\n      button.node.on(Button.EventType.CLICK, () => {\n        console.log(this.cloneBalanUser);\n        console.log(\n          this.totalUserBetOver + this.totalUserBetUnder + this.listScore[i]\n        );\n\n        if (\n          this.cloneBalanUser >= this.listScore[i] &&\n          this.cloneBalanUser >=\n            this.totalUserBetOver +\n              this.totalUserBetUnder +\n              this.listScore[i] &&\n          this.balanceUser !== 0 &&\n          this.gameEnd === false\n        ) {\n          this.addScore(this.listScore[i]);\n        } else {\n          this.warningNotEn.active = true;\n          setTimeout(() => {\n            this.warningNotEn.active = false;\n          }, 1000);\n        }\n      });\n    }\n\n    this.shedu = this.schedule(() => {\n      this.totalOverText.string = this.formatNumberWithCommas(\n        this.totalBetOver\n      );\n      this.countPlayerOverLb.string = this.countPlayerOver.toString();\n      tween(this.totalOverText.node)\n        .to(0.5, { scale: new Vec3(1.5, 1.5) })\n        .call(() => {\n          tween(this.totalOverText.node)\n            .to(0.5, { scale: new Vec3(1, 1) })\n            .start();\n        })\n        .start();\n    }, 1);\n\n    this.schedule(() => {\n      // this.totalUnderText.string = this.totalBetUnder.toString();\n      this.totalUnderText.string = this.formatNumberWithCommas(\n        this.totalBetUnder\n      );\n      this.countPlayerUnderLb.string = this.countPlayerUnder.toString();\n      tween(this.totalUnderText.node)\n        .to(0.5, { scale: new Vec3(1.5, 1.5) })\n        .call(() => {\n          tween(this.totalUnderText.node)\n            .to(0.5, { scale: new Vec3(1, 1) })\n            .start();\n        })\n        .start();\n    }, 1);\n\n    setTimeout(() => {\n      this.gameEnd = false;\n      this.plate.getComponent(Animation).play(\"plateIn\");\n      this.AudioController.onAudio(3);\n      this.Effect1.getComponent(Animation).play();\n      this.countDown.node.active = true;\n      this.Effect3.active = false;\n      // this.Effect2.active = true;\n      this.displayImagesResult();\n      this.displayImagesResultHistory();\n      this.startCountdown(this.countdownTimerBet, 40);\n      this.scheduleRandomDice();\n      this.createNodeHistory();\n      this.createNodeDice1History();\n      this.createNodeDice2History();\n      this.createNodeDice3History();\n    }, 3000);\n\n    // this.handleEvent();\n    // input.on(Input.EventType.KEY_DOWN,this.onKeyDown,this);\n  }\n\n  update(deltaTime: number) {\n    this.BalanceNumber.string = this.balanceUser.toString();\n\n    if (this.gameEnd === false) {\n      this.totalBetOver = this.totalBetOver + math.randomRangeInt(1000, 10000);\n      this.totalBetUnder =\n        this.totalBetUnder + math.randomRangeInt(1000, 10000);\n      this.countPlayerOver = this.countPlayerOver + math.randomRangeInt(1, 10);\n      this.countPlayerUnder =\n        this.countPlayerUnder + math.randomRangeInt(1, 10);\n    }\n\n    if (this.gameEnd === true) {\n    }\n    this.countDown.string = this.countdownTimerBet.toString();\n    this.countDownResult.string = this.countdownTimerResult.toString();\n  }\n\n  private createGrid() {\n    // Tạo prefab ở vị trí hiện tại trên grid\n    let prefabType = this.sum <= 10 ? this.Under : this.Over;\n\n    // Kiểm tra nếu đã đủ hàng\n    if (this.currentRow >= this.numRows) {\n      // Tăng giá trị cột khi đã đủ hàng\n      this.currentCol++;\n      // Reset chỉ mục hàng về 0\n      this.currentRow = 0;\n\n      // Nếu đã đến cột cuối cùng\n      if (this.currentCol >= this.numCols) {\n        // Clear tất cả các prefabs đã tạo\n        this.clearGrid();\n        // Reset chỉ mục cột về 0\n        this.currentCol = 0;\n      }\n    }\n\n    // Kiểm tra nếu prefabs mới và prefabs trước đó không cùng kiểu\n    if (\n      this.previousPrefabType !== null &&\n      prefabType.name !== this.previousPrefabType.name\n    ) {\n      // Di chuyển sang cột mới và reset chỉ mục hàng hiện tại về 0\n      this.currentCol++;\n      this.currentRow = 0;\n\n      // Nếu đã đến cột cuối cùng\n      if (this.currentCol >= this.numCols) {\n        // Clear tất cả các prefabs đã tạo\n        this.clearGrid();\n        // Reset chỉ mục cột về 0\n        this.currentCol = 0;\n      }\n    }\n\n    const cell = instantiate(prefabType);\n    const posX = this.currentCol * this.cellWidth; // Tính vị trí x dựa trên chỉ mục cột hiện tại\n    const posY = -this.currentRow * this.cellHeight; // Tính vị trí y dựa trên chỉ mục hàng hiện tại\n    cell.position = new Vec3(posX, posY);\n    this.pref.addChild(cell);\n\n    // Cập nhật kiểu của prefab trước đó và chỉ mục hàng hiện tại\n    this.previousPrefabType = prefabType;\n    this.currentRow++;\n  }\n\n  private clearGrid() {\n    this.pref.removeAllChildren();\n  }\n\n  private addScore(Score: number) {\n    if (this.checkUnder === true) {\n      this.totalUserBetUnder = this.totalUserBetUnder + Score;\n      this.cloneuserValuebetUnder = 0;\n      this.clonetotalUserBetUnder = this.clonetotalUserBetUnder + Score;\n      this.UnderLableValueUser.string = this.totalUserBetUnder.toString();\n    }\n    if (this.checkOver === true) {\n      this.totalUserBetOver = this.totalUserBetOver + Score;\n      this.cloneuserValuebetOver = 0;\n      this.clonetotalUserBetOver = this.clonetotalUserBetOver + Score;\n      this.OverLableValueUser.string = this.totalUserBetOver.toString();\n    }\n  }\n\n  private bet() {\n    if (\n      this.checkOver === true &&\n      this.cloneBalanUser >= this.totalUserBetOver &&\n      this.balanceUser !== 0 &&\n      this.gameEnd === false\n    ) {\n      this.balanceUser = this.balanceUser - this.clonetotalUserBetOver;\n\n      const isUpdated = this.setUsernameAndBalanceToLocalStorage(\n        this.loggedInUsername,\n        this.balanceUser\n      );\n      if (isUpdated) {\n        console.log(\"Cập nhật balance thành công!\");\n      } else {\n        console.log(\"Cập nhật balance thất bại!\");\n      }\n\n      this.userValuebetOver += this.clonetotalUserBetOver;\n      this.clonetotalUserBetOver = 0;\n      this.OverLableValueUser.string = this.totalUserBetOver.toString();\n      this.AudioController.onAudio(0);\n    } else if (\n      this.checkUnder === true &&\n      this.cloneBalanUser >= this.totalUserBetUnder &&\n      this.balanceUser !== 0 &&\n      this.gameEnd === false\n    ) {\n      this.balanceUser = this.balanceUser - this.clonetotalUserBetUnder;\n\n      const isUpdated = this.setUsernameAndBalanceToLocalStorage(\n        this.loggedInUsername,\n        this.balanceUser\n      );\n      if (isUpdated) {\n        console.log(\"Cập nhật balance thành công!\");\n      } else {\n        console.log(\"Cập nhật balance thất bại!\");\n      }\n\n      this.userValuebetUnder += this.clonetotalUserBetUnder;\n      this.clonetotalUserBetUnder = 0;\n      this.UnderLableValueUser.string = this.totalUserBetUnder.toString();\n      this.AudioController.onAudio(0);\n    } else {\n      console.log(\"nghèo\");\n    }\n  }\n\n  private scheduleRandomDice() {\n    const randomValues = this.getRandomValues();\n    this.displayImages(randomValues);\n    // this.displayImagesHisDice(randomValues);\n    // this.sum = this.sumValues(randomValues);\n    this.ToatalDice.string = this.sum.toString();\n    let dickAnimationFinished = false;\n    setTimeout(() => {\n      this.gameEnd = true;\n      this.displayImagesHisDice(randomValues);\n      this.sum = this.sumValues(randomValues);\n      this.plate.getComponent(Animation).play(\"Dick\");\n      this.AudioController.onAudio(4);\n      this.Effect2.active = true;\n      this.startCountdownResult(this.countdownTimerResult, 15);\n      this.tkpOver.string = this.formatNumberWithCommas2(this.totalBetOver);\n      this.tkpUnder.string = this.formatNumberWithCommas2(this.totalBetUnder);\n      this.tkpUserOver.string = this.countPlayerOver.toString();\n      this.tkpUserUnder.string = this.countPlayerUnder.toString();\n      for (let i = 0; i < this.tkpTime.length; i++) {\n        this.tkpTime[i].string = this.currentTime();\n      }\n      this.countDown.node.active = false;\n      this.countDownResult.node.active = true;\n\n      this.plate\n        .getComponent(Animation)\n        .on(Animation.EventType.FINISHED, () => {\n          dickAnimationFinished = true;\n          this.plate.active = false;\n\n          this.plate.getComponent(Animation).off(Animation.EventType.FINISHED);\n\n          if (this.sum <= 10) {\n            this.createGrid();\n            this.updateResults(0);\n            this.displayImagesResult();\n            this.updateResultsHistory(0);\n            this.displayImagesResultHistory();\n\n            this.updateResultsHis(this.sum);\n            this.createNodeHistory();\n\n            this.updateResultsDice1History(this.ramdomDice[0]);\n            this.createNodeDice1History();\n\n            this.updateResultsDice2History(this.ramdomDice[1]);\n            this.createNodeDice2History();\n\n            this.updateResultsDice3History(this.ramdomDice[2]);\n            this.createNodeDice3History();\n\n            this.EffectUnder.active = true;\n            this.balanceUser += this.userValuebetUnder * 2;\n\n            const isUpdated = this.setUsernameAndBalanceToLocalStorage(\n              this.loggedInUsername,\n              this.balanceUser\n            );\n            if (isUpdated) {\n              console.log(\"Cập nhật balance thành công!\");\n            } else {\n              console.log(\"Cập nhật balance thất bại!\");\n            }\n          } else {\n            this.createGrid();\n            this.updateResults(1);\n            this.displayImagesResult();\n            this.updateResultsHistory(1);\n            this.displayImagesResultHistory();\n\n            this.updateResultsHis(this.sum);\n            this.createNodeHistory();\n\n            this.updateResultsDice1History(this.ramdomDice[0]);\n            this.createNodeDice1History();\n\n            this.updateResultsDice2History(this.ramdomDice[1]);\n            this.createNodeDice2History();\n\n            this.updateResultsDice3History(this.ramdomDice[2]);\n            this.createNodeDice3History();\n\n            this.Effect.active = true;\n            this.balanceUser += this.userValuebetOver * 2;\n\n            const isUpdated = this.setUsernameAndBalanceToLocalStorage(\n              this.loggedInUsername,\n              this.balanceUser\n            );\n            if (isUpdated) {\n              console.log(\"Cập nhật balance thành công!\");\n            } else {\n              console.log(\"Cập nhật balance thất bại!\");\n            }\n          }\n        });\n\n      setTimeout(() => {\n        this.countDownResult.node.active = false;\n        if (dickAnimationFinished) {\n          // this.plate.active = true;\n          if (this.EffectUnder.active === true) {\n            this.EffectUnder.active = false;\n          }\n          if (this.Effect.active === true) {\n            this.Effect.active = false;\n          }\n          this.totalBetOver = 0;\n          this.totalBetUnder = 0;\n          this.countPlayerOver = 0;\n          this.countPlayerUnder = 0;\n          this.totalUserBetOver = 0;\n          this.totalUserBetUnder = 0;\n          this.userValuebetOver = 0;\n          this.userValuebetUnder = 0;\n          this.clonetotalUserBetOver = 0;\n          this.clonetotalUserBetUnder = 0;\n\n          this.AudioController.onAudio(2);\n\n          this.UnderLableValueUser.string = this.totalUserBetUnder.toString();\n          this.OverLableValueUser.string = this.totalUserBetOver.toString();\n          this.cloneBalanUser = this.balanceUser;\n          this.Effect2.active = false;\n          this.Effect3.active = true;\n          setTimeout(() => {\n            this.plate.active = true;\n            this.plate.getComponent(Animation).play(\"plateIn\");\n            this.AudioController.onAudio(3);\n            this.Effect1.getComponent(Animation).play();\n            this.Effect3.active = false;\n            this.countDown.node.active = true;\n            this.gameEnd = false;\n            this.startCountdown(this.countdownTimerBet, 40);\n            this.scheduleRandomDice();\n          }, 3000);\n        } else {\n          this.scheduleRandomDice();\n        }\n      }, 15000);\n    }, 40000);\n  }\n  private getRandomValues() {\n    const indices = [1, 2, 3, 4, 5, 6];\n    this.ramdomDice = [];\n    for (let i = 0; i < 3; i++) {\n      const randomIndex = Math.floor(Math.random() * indices.length);\n      this.ramdomDice.push(indices[randomIndex]);\n    }\n    return this.ramdomDice;\n  }\n\n  private sumValues(array) {\n    return array.reduce((sum, currentValue) => sum + currentValue, 0);\n  }\n\n  private displayImages(randomValues) {\n    randomValues.forEach((value, index) => {\n      const spriteFrame = this.dice1[value - 1];\n      const sprite = this.imageNodes[index].getComponent(Sprite);\n      if (sprite && spriteFrame) {\n        sprite.spriteFrame = spriteFrame;\n      } else {\n        console.error(\"Sprite or SpriteFrame is missing!\");\n      }\n    });\n  }\n\n  private displayImagesHisDice(randomValues) {\n    randomValues.forEach((value, index) => {\n      const spriteFrame = this.diceHis[value - 1];\n      const sprite = this.imageNodesDiceRes[index].getComponent(Sprite);\n      if (sprite && spriteFrame) {\n        sprite.spriteFrame = spriteFrame;\n      } else {\n        console.error(\"Sprite or SpriteFrame is missing!\");\n      }\n    });\n  }\n\n  private displayImagesResult() {\n    this.imageNodesResult.forEach((node, index) => {\n      const value = this.results[index];\n      if (value !== undefined) {\n        // Kiểm tra xem giá trị có tồn tại hay không\n        const sprite = node.getComponent(Sprite);\n        if (sprite) {\n          let spriteFrame;\n          if (value === 0) {\n            spriteFrame = this.listSpriteResult[0]; // Thay spriteFrameA bằng spriteFrame bạn muốn gán cho giá trị 0\n          } else if (value === 1) {\n            spriteFrame = this.listSpriteResult[1]; // Thay spriteFrameB bằng spriteFrame bạn muốn gán cho giá trị 1\n          } else {\n            console.error(\"Invalid result value:\", value);\n            node.active = false; // Ẩn node ảnh nếu giá trị không hợp lệ\n            return;\n          }\n          sprite.spriteFrame = spriteFrame;\n          node.active = true; // Kích hoạt node ảnh\n        } else {\n          console.error(\"Sprite is missing!\");\n        }\n      } else {\n        node.active = false; // Ẩn node ảnh nếu giá trị không tồn tại\n      }\n    });\n  }\n\n  private displayImagesResultHistory() {\n    this.imageNodesResultHistory.forEach((node, index) => {\n      const value = this.resultsHistory[index];\n      if (value !== undefined) {\n        // Kiểm tra xem giá trị có tồn tại hay không\n        const sprite = node.getComponent(Sprite);\n        if (sprite) {\n          let spriteFrame;\n          if (value === 0) {\n            spriteFrame = this.listSpriteResultHistory[0]; // Thay spriteFrameA bằng spriteFrame bạn muốn gán cho giá trị 0\n          } else if (value === 1) {\n            spriteFrame = this.listSpriteResultHistory[1]; // Thay spriteFrameB bằng spriteFrame bạn muốn gán cho giá trị 1\n          } else {\n            console.error(\"Invalid result value:\", value);\n            node.active = false; // Ẩn node ảnh nếu giá trị không hợp lệ\n            return;\n          }\n          sprite.spriteFrame = spriteFrame;\n          node.active = true; // Kích hoạt node ảnh\n        } else {\n          console.error(\"Sprite is missing!\");\n        }\n      } else {\n        node.active = false; // Ẩn node ảnh nếu giá trị không tồn tại\n      }\n    });\n  }\n\n  private startCountdownResult(timeCountDown: number, timereset: number) {\n    this.countdownTimerResult = 15;\n    const countdownInterval = setInterval(() => {\n      this.countdownTimerResult--;\n      if (this.countdownTimerResult <= 0) {\n        clearInterval(countdownInterval);\n      }\n    }, 1000);\n  }\n\n  private startCountdown(timeCountDown: number, timereset: number) {\n    this.countdownTimerBet = 40;\n    const countdownInterval = setInterval(() => {\n      this.countdownTimerBet--;\n      if (this.countdownTimerBet <= 0) {\n        clearInterval(countdownInterval);\n      }\n    }, 1000);\n  }\n\n  private updateResults(newResult: number): void {\n    this.results.push(newResult);\n    if (this.results.length > 20) {\n      this.results.shift();\n    }\n  }\n\n  private updateResultsHis(newResult: number): void {\n    this.columnValues.push(newResult);\n\n    if (this.columnValues.length > 21) {\n      this.columnValues.shift();\n      this.clearLineNode(this.LineNode);\n    }\n  }\n\n  private updateResultsHistory(newResult: number): void {\n    this.resultsHistory.push(newResult);\n    if (this.resultsHistory.length > 100) {\n      this.resultsHistory.shift();\n    }\n  }\n  private updateResultsDice1History(newResult: number): void {\n    this.ListDice1His.push(newResult);\n    if (this.resultsHistory.length > 21) {\n      this.ListDice1His.shift();\n      this.clearLineNode(this.LineNodeDice1);\n    }\n  }\n\n  private updateResultsDice2History(newResult: number): void {\n    this.ListDice2His.push(newResult);\n    if (this.ListDice2His.length > 21) {\n      this.ListDice2His.shift();\n      this.clearLineNode(this.LineNodeDice2);\n    }\n  }\n\n  private updateResultsDice3History(newResult: number): void {\n    this.ListDice3His.push(newResult);\n    if (this.ListDice3His.length > 21) {\n      this.ListDice3His.shift();\n      this.clearLineNode(this.LineNodeDice3);\n    }\n  }\n\n  private activeBetOverbtn() {\n    this.checkOver = true;\n    if (this.checkUnder === true) {\n      this.checkUnder = false;\n    }\n    this.betOverNode.active = true;\n    this.betBarNode.active = true;\n    if (this.betUnderNode.active === true) {\n      this.betUnderNode.active = false;\n    }\n  }\n\n  private activeBetUnderbtn() {\n    this.checkUnder = true;\n    if (this.checkOver === true) {\n      this.checkOver = false;\n    }\n    this.betUnderNode.active = true;\n    this.betBarNode.active = true;\n    if (this.betOverNode.active === true) {\n      this.betOverNode.active = false;\n    }\n  }\n\n  private chatAppear() {\n    tween(this.Table)\n      .to(0.3, {\n        position: new Vec3(this.Table.position.x - 130, this.Table.position.y),\n      })\n      .call(() => {\n        this.Chat.active = true;\n      })\n      .start();\n\n    tween(this.logo1)\n      .to(0.3, {\n        position: new Vec3(this.logo1.position.x - 130, this.logo1.position.y),\n      })\n      .start();\n\n    tween(this.logo2)\n      .to(0.3, {\n        position: new Vec3(this.logo2.position.x - 130, this.logo2.position.y),\n      })\n      .start();\n    this.unchat.active = true;\n  }\n\n  private chatUnAppear() {\n    this.Chat.active = false;\n    this.unchat.active = false;\n\n    tween(this.Table)\n      .to(0.3, {\n        position: new Vec3(this.Table.position.x + 130, this.Table.position.y),\n      })\n      .start();\n\n    tween(this.logo1)\n      .to(0.3, {\n        position: new Vec3(this.logo1.position.x + 130, this.logo1.position.y),\n      })\n      .start();\n\n    tween(this.logo2)\n      .to(0.3, {\n        position: new Vec3(this.logo2.position.x + 130, this.logo2.position.y),\n      })\n      .start();\n  }\n\n  private handleEvent(): void {\n    // Move the value of each label to the next label\n    for (let i = this.LableChat.length - 1; i > 0; i--) {\n      this.LableChat[i].string = this.LableChat[i - 1].string;\n    }\n\n    // Assign the value of the edit box to the first label\n    this.LableChat[0].string =\n      this.loggedInUsername + \": \" + this.editBoxChat.string;\n    this.editBoxChat.string = \"\";\n    // this.editBoxChat.node.on(EditBox.EventType.EDITING_RETURN)\n  }\n  private introduceBoardActive() {\n    this.introduceBoard.active = true;\n  }\n\n  private introduceBoardUnActive() {\n    this.introduceBoard.active = false;\n  }\n\n  private historyNodeActive() {\n    this.HistoryNode.active = true;\n  }\n\n  private historyNodeUnActive() {\n    this.HistoryNode.active = false;\n  }\n\n  private createNodeHistory() {\n    let gapBetweenColumns = this.columnWidth * 1.5;\n\n    let lineContainer = new Node();\n    lineContainer.parent = this.LineNode;\n\n    let graphics = lineContainer.addComponent(Graphics);\n    graphics.lineWidth = 10;\n    graphics.strokeColor = new Color(255, 0, 0);\n    let prevColumnNode: Node = null;\n    this.NumberNodesResultHistory.forEach((node, index) => {\n      const value = this.columnValues[index];\n      if (value !== undefined) {\n        const sprite = node.getComponent(Sprite);\n        if (sprite) {\n          let spriteFrame;\n          if (value >= 3 && value <= 10) {\n            if (value === 3) {\n              spriteFrame = this.listSpritetNumberHistory[0];\n            }\n\n            if (value === 4) {\n              spriteFrame = this.listSpritetNumberHistory[1];\n            }\n\n            if (value === 5) {\n              spriteFrame = this.listSpritetNumberHistory[2];\n            }\n\n            if (value === 6) {\n              spriteFrame = this.listSpritetNumberHistory[3];\n            }\n\n            if (value === 7) {\n              spriteFrame = this.listSpritetNumberHistory[4];\n            }\n\n            if (value === 8) {\n              spriteFrame = this.listSpritetNumberHistory[5];\n            }\n\n            if (value === 9) {\n              spriteFrame = this.listSpritetNumberHistory[6];\n            }\n\n            if (value === 10) {\n              spriteFrame = this.listSpritetNumberHistory[7];\n            }\n            node.setPosition(value * gapBetweenColumns * 0.2, node.position.y);\n            // if\n          } else if (value > 10) {\n            node.setPosition(value * gapBetweenColumns * 0.2, node.position.y);\n            if (value === 11) {\n              spriteFrame = this.listSpritetNumberHistory[8];\n            }\n\n            if (value === 12) {\n              spriteFrame = this.listSpritetNumberHistory[9];\n            }\n\n            if (value === 13) {\n              spriteFrame = this.listSpritetNumberHistory[10];\n            }\n\n            if (value === 14) {\n              spriteFrame = this.listSpritetNumberHistory[11];\n            }\n\n            if (value === 15) {\n              spriteFrame = this.listSpritetNumberHistory[12];\n            }\n\n            if (value === 16) {\n              spriteFrame = this.listSpritetNumberHistory[13];\n            }\n\n            if (value === 17) {\n              spriteFrame = this.listSpritetNumberHistory[14];\n            }\n\n            if (value === 18) {\n              spriteFrame = this.listSpritetNumberHistory[15];\n            }\n          } else {\n            console.error(\"Invalid result value:\", value);\n            node.active = false; // Ẩn node ảnh nếu giá trị không hợp lệ\n            return;\n          }\n          sprite.spriteFrame = spriteFrame;\n          node.active = true; // Kích hoạt node ảnh\n          if (prevColumnNode) {\n            graphics.moveTo(\n              prevColumnNode.position.x,\n              prevColumnNode.position.y\n            );\n            graphics.lineTo(node.position.x, node.position.y);\n            graphics.stroke();\n          }\n          prevColumnNode = node;\n        } else {\n          console.error(\"Sprite is missing!\");\n        }\n      } else {\n        node.active = false; // Ẩn node ảnh nếu giá trị không tồn tại\n      }\n    });\n  }\n\n  private createNodeDice1History() {\n    let gapBetweenColumns = this.columnWidth * 1.5;\n\n    let lineContainer = new Node();\n    lineContainer.parent = this.LineNodeDice1;\n\n    let graphics = lineContainer.addComponent(Graphics);\n    graphics.lineWidth = 5;\n    graphics.strokeColor = new Color(247, 62, 245);\n    let prevColumnNode: Node = null;\n    this.ListDice1Node.forEach((node, index) => {\n      const value = this.ListDice1His[index];\n      if (value !== undefined) {\n        node.setPosition(value * gapBetweenColumns * 0.61, node.position.y);\n        node.active = true;\n        if (prevColumnNode) {\n          graphics.moveTo(prevColumnNode.position.x, prevColumnNode.position.y);\n          graphics.lineTo(node.position.x, node.position.y);\n          graphics.stroke();\n        }\n        prevColumnNode = node;\n      } else {\n        node.active = false; // Ẩn node ảnh nếu giá trị không tồn tại\n      }\n    });\n  }\n\n  private createNodeDice2History() {\n    let gapBetweenColumns = this.columnWidth * 1.5;\n\n    let lineContainer = new Node();\n    lineContainer.parent = this.LineNodeDice2;\n\n    let graphics = lineContainer.addComponent(Graphics);\n    graphics.lineWidth = 5;\n    graphics.strokeColor = new Color(222, 51, 70);\n    let prevColumnNode: Node = null;\n    this.ListDice2Node.forEach((node, index) => {\n      const value = this.ListDice2His[index];\n      if (value !== undefined) {\n        node.setPosition(value * gapBetweenColumns * 0.61, node.position.y);\n        node.active = true;\n        if (prevColumnNode) {\n          graphics.moveTo(prevColumnNode.position.x, prevColumnNode.position.y);\n          graphics.lineTo(node.position.x, node.position.y);\n          graphics.stroke();\n        }\n        prevColumnNode = node;\n      } else {\n        node.active = false; // Ẩn node ảnh nếu giá trị không tồn tại\n      }\n    });\n  }\n\n  private createNodeDice3History() {\n    let gapBetweenColumns = this.columnWidth * 1.5;\n\n    let lineContainer = new Node();\n    lineContainer.parent = this.LineNodeDice3;\n\n    let graphics = lineContainer.addComponent(Graphics);\n    graphics.lineWidth = 5;\n    graphics.strokeColor = new Color(78, 251, 151);\n    let prevColumnNode: Node = null;\n    this.ListDice3Node.forEach((node, index) => {\n      const value = this.ListDice3His[index];\n      if (value !== undefined) {\n        node.setPosition(value * gapBetweenColumns * 0.61, node.position.y);\n        node.active = true;\n        if (prevColumnNode) {\n          graphics.moveTo(prevColumnNode.position.x, prevColumnNode.position.y);\n          graphics.lineTo(node.position.x, node.position.y);\n          graphics.stroke();\n        }\n        prevColumnNode = node;\n      } else {\n        node.active = false; // Ẩn node ảnh nếu giá trị không tồn tại\n      }\n    });\n  }\n\n  createColumn(columnValue: number): Node {\n    let columnNode = instantiate(this.black);\n    return columnNode;\n  }\n\n  private clearLineNode(LineNode: Node) {\n    if (LineNode) {\n      LineNode.removeAllChildren();\n    } else {\n      console.warn(\"LineNode is not available.\");\n    }\n  }\n\n  private unDice1() {\n    this.unDice1His.node.active = false;\n    this.LineNodeDice1.active = false;\n    this.Dice1Hist.active = false;\n  }\n\n  private ActiveDice1() {\n    this.unDice1His.node.active = true;\n    this.LineNodeDice1.active = true;\n    this.Dice1Hist.active = true;\n  }\n\n  private unDice2() {\n    this.unDice2His.node.active = false;\n    this.LineNodeDice2.active = false;\n    this.Dice2Hist.active = false;\n  }\n\n  private ActiveDice2() {\n    this.unDice2His.node.active = true;\n    this.LineNodeDice2.active = true;\n    this.Dice2Hist.active = true;\n  }\n\n  private unDice3() {\n    this.unDice3His.node.active = false;\n    this.LineNodeDice3.active = false;\n    this.Dice3ist.active = false;\n  }\n\n  private ActiveDice3() {\n    this.unDice3His.node.active = true;\n    this.LineNodeDice3.active = true;\n    this.Dice3ist.active = true;\n  }\n\n  private activePage() {\n    if (this.page1His.active === true) {\n      this.page2His.active = true;\n      this.page1His.active = false;\n      this.page2Button1.node.active = true;\n      this.page2Button2.node.active = true;\n      if (this.Dice1His.active === false) {\n        this.Dice1His.active = true;\n        this.Dice2His.active = true;\n        this.Dice3His.active = true;\n      }\n    }\n  }\n\n  private activePage2() {\n    if (this.page2His.active === true) {\n      this.page2His.active = false;\n      this.page1His.active = true;\n      this.page2Button1.node.active = false;\n      this.page2Button2.node.active = false;\n      if (this.Dice1His.active === true) {\n        this.Dice1His.active = false;\n        this.Dice2His.active = false;\n        this.Dice3His.active = false;\n      }\n    }\n  }\n\n  private CancelBet() {\n    if (this.gameEnd === false) {\n      this.totalUserBetOver =\n        this.totalUserBetOver - this.clonetotalUserBetOver;\n      this.clonetotalUserBetOver = 0;\n\n      this.totalUserBetUnder =\n        this.totalUserBetUnder - this.clonetotalUserBetUnder;\n      this.clonetotalUserBetUnder = 0;\n      this.UnderLableValueUser.string = this.userValuebetUnder.toString();\n      this.OverLableValueUser.string = this.userValuebetOver.toString();\n      console.log(this.totalUserBetOver);\n    }\n  }\n\n  private HistoryUserBetActiveH() {\n    this.HistoryUserBet.active = true;\n  }\n\n  private HistoryUserBetUnable() {\n    this.HistoryUserBet.active = false;\n  }\n\n  private HistoryUserActiveH() {\n    this.HistoryUser.active = true;\n  }\n\n  private HistoryUserUnable() {\n    this.HistoryUser.active = false;\n  }\n\n  private doubleBet() {\n    if (\n      this.checkOver === true &&\n      this.totalUserBetOver * 2 <= this.cloneBalanUser &&\n      this.totalUserBetOver * 2 <= this.balanceUser &&\n      this.gameEnd === false\n    ) {\n      this.totalUserBetOver = this.totalUserBetOver * 2;\n\n      this.clonetotalUserBetOver =\n        this.totalUserBetOver - this.userValuebetOver;\n      this.OverLableValueUser.string = this.totalUserBetOver.toString();\n    }\n\n    if (\n      this.checkUnder === true &&\n      this.totalUserBetUnder * 2 <= this.cloneBalanUser &&\n      this.gameEnd === false\n    ) {\n      this.totalUserBetUnder = this.totalUserBetUnder * 2;\n      this.clonetotalUserBetUnder =\n        this.totalUserBetUnder - this.userValuebetUnder;\n      this.UnderLableValueUser.string = this.totalUserBetUnder.toString();\n    }\n  }\n\n  private winRate() {\n    this.Winrate.active = true;\n  }\n  private winRateUn() {\n    this.Winrate.active = false;\n  }\n\n  private getUsernameAndBalanceFromLocalStorage(\n    username: string\n  ): { username: string; balance: number } | null {\n    const storedAccounts = localStorage.getItem(\"registeredAccounts\");\n    if (storedAccounts) {\n      const registeredAccounts: AccountInfo[] = JSON.parse(storedAccounts);\n      const account = registeredAccounts.find(\n        (acc) => acc.username === username\n      );\n      if (account) {\n        return { username: account.username, balance: account.balance };\n      } else {\n        console.log(\"Tài khoản không tồn tại!\");\n        return null;\n      }\n    } else {\n      console.log(\"Không có dữ liệu tài khoản trong Local Storage!\");\n      return null;\n    }\n  }\n\n  private setUsernameAndBalanceToLocalStorage(\n    username: string,\n    newBalance: number\n  ): boolean {\n    const storedAccounts = localStorage.getItem(\"registeredAccounts\");\n    if (storedAccounts) {\n      let registeredAccounts: AccountInfo[] = JSON.parse(storedAccounts);\n      const index = registeredAccounts.findIndex(\n        (acc) => acc.username === username\n      );\n      if (index !== -1) {\n        registeredAccounts[index].balance = newBalance;\n        localStorage.setItem(\n          \"registeredAccounts\",\n          JSON.stringify(registeredAccounts)\n        );\n        return true; // Trả về true nếu cập nhật thành công\n      } else {\n        console.log(\"Tài khoản không tồn tại!\");\n        return false; // Trả về false nếu tài khoản không tồn tại\n      }\n    } else {\n      console.log(\"Không có dữ liệu tài khoản trong Local Storage!\");\n      return false; // Trả về false nếu không có dữ liệu trong Local Storage\n    }\n  }\n\n  formatNumberWithCommas(number) {\n    return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n  }\n\n  formatNumberWithCommas2(number) {\n    if (number >= 1000000 && number < 1000000000) {\n      return (\n        (number / 1000000).toFixed(2).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") +\n        \"M\"\n      );\n    } else if (number >= 1000000000) {\n      return (\n        (number / 1000000000).toFixed(2).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") +\n        \"B\"\n      );\n    } else {\n      return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    }\n  }\n\n  private currentTime() {\n    const currentTime: Date = new Date();\n\n    const hour: number = currentTime.getHours();\n    const minute: number = currentTime.getMinutes();\n    const second: number = currentTime.getSeconds();\n\n    return `${hour}:${minute}:${second}`;\n  }\n\n  private buttonMusicb() {\n    if (this.offMusic) {\n      // Trừ 62 nếu đang ở trạng thái trừ\n      tween(this.buttonMusic)\n        .to(0.2, { position: new Vec3(-31) })\n        .start();\n      this.AudioController.settingAudio(0);\n    } else {\n      // Cộng 62 nếu đang ở trạng thái cộng\n      tween(this.buttonMusic)\n        .to(0.2, { position: new Vec3(31) })\n        .start();\n      this.AudioController.settingAudio(1);\n    }\n    console.log(this.offMusic);\n\n    // Đảo ngược trạng thái sau mỗi lần gọi\n    this.offMusic = !this.offMusic;\n  }\n}\n"]}